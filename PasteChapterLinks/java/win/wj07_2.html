<!DOCTYPE html>
<html lang="ja">

<head>
        <title>【7】「フレームワーク」を活用してみよう！（2）</title>
        <link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico">
        <meta charset="UTF-8">
        <meta name="referrer" content="strict-origin-when-cross-origin">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <style type="text/css">
                @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');

                body {
                        font-family: 'Noto Sans JP', sans-serif;
                        margin: 0;
                }

                iframe {
                        border: 0;
                        frameborder: 0;
                        height: 100%;
                        width: 100%;
                }

                #header {
                        align-items: center;
                        background: white;
                        border-bottom: 1px #ccc solid;
                        display: flex;
                        height: 60px;
                        justify-content: space-between;
                        top: 0;
                        width: 100%;
                        z-index: 100;
                }

                #header #title {
                        font-family: 'Noto Sans JP';
                        font-size: large;
                        margin: auto 0 auto 20px;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                        width: 70%;
                }

                #header #interval {
                        margin: auto 25px auto 0;
                        font-family: 'Noto Sans JP';
                        font-size: small;
                        ;
                }

                #footer {
                        background: #f0f0f0;
                        border-bottom: 1px #ccc solid;
                        bottom: 0;
                        font-family: 'Noto Sans JP';
                        font-size: small;
                        padding: 10px 10px;
                        position: fixed;
                        text-align: center;
                        width: 100%;
                        box-sizing: border-box;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                }

                #contents {
                        padding: 100px 3rem 50px;
                        max-width: 930px;
                        margin: 0 auto;
                }

                @media only screen and (max-width: 767px) {
                        #contents {
                                padding: 150px 1rem 80px;
                                word-break: break-all;
                        }
                }

                .dash {
                        padding: 0 6px;
                }

                :root {
                        --base_font_size: 14pt;
                }

                @media only screen and (max-width: 767px) {
                        :root {
                                --base_font_size: 14px;
                        }
                }

                .code_block {
                        white-space: nowrap;
                        overflow-x: auto;
                        background-color: #f8f8f8;
                        padding: 10px;
                }

                .code_block>p {
                        display: inline-block;
                }
        </style>
</head>

<body>
        <div id="header">
                <div id="title">【7】「フレームワーク」を活用してみよう！（2）</div>
                <div id="interval"><span>Javaコース</span></div>
        </div>
        <div id="contents">
                <style type="text/css">
                        @import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');

                        ol.lst-kix_2zwrtrp7d7si-1 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-0 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-3 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-2 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-5 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-4 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-3.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-3 0
                        }

                        ol.lst-kix_x41s1rdpnz1l-0.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-0 0
                        }

                        ol.lst-kix_2zwrtrp7d7si-6.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-6 0
                        }

                        .lst-kix_2zwrtrp7d7si-8>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-8
                        }

                        ol.lst-kix_2zwrtrp7d7si-3.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-3 0
                        }

                        ol.lst-kix_2zwrtrp7d7si-7 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-6 {
                                list-style-type: none
                        }

                        ol.lst-kix_2zwrtrp7d7si-8 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-6.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-6 0
                        }

                        ol.lst-kix_tw1k779xd1a4-5.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-5 0
                        }

                        .lst-kix_tw1k779xd1a4-0>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-0
                        }

                        .lst-kix_za19uzqo5vqc-3>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-3
                        }

                        .lst-kix_za19uzqo5vqc-5>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-5
                        }

                        ol.lst-kix_x41s1rdpnz1l-8.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-8 0
                        }

                        ol.lst-kix_tw1k779xd1a4-2.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-2 0
                        }

                        ol.lst-kix_tw1k779xd1a4-8.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-8 0
                        }

                        ol.lst-kix_x41s1rdpnz1l-5.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-5 0
                        }

                        ol.lst-kix_za19uzqo5vqc-0.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-0 0
                        }

                        .lst-kix_x41s1rdpnz1l-8>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-8
                        }

                        .lst-kix_x41s1rdpnz1l-5>li:before {
                                content: "("counter(lst-ctn-kix_x41s1rdpnz1l-5, lower-roman) ") "
                        }

                        ol.lst-kix_x41s1rdpnz1l-2.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-2 0
                        }

                        .lst-kix_x41s1rdpnz1l-4>li:before {
                                content: "("counter(lst-ctn-kix_x41s1rdpnz1l-4, lower-latin) ") "
                        }

                        .lst-kix_x41s1rdpnz1l-6>li:before {
                                content: ""counter(lst-ctn-kix_x41s1rdpnz1l-6, decimal) ". "
                        }

                        .lst-kix_za19uzqo5vqc-1>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-1
                        }

                        .lst-kix_tw1k779xd1a4-2>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-2, lower-roman) ". "
                        }

                        .lst-kix_tw1k779xd1a4-4>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-4, lower-latin) ". "
                        }

                        .lst-kix_za19uzqo5vqc-7>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-7
                        }

                        .lst-kix_x41s1rdpnz1l-3>li:before {
                                content: "("counter(lst-ctn-kix_x41s1rdpnz1l-3, decimal) ") "
                        }

                        .lst-kix_x41s1rdpnz1l-7>li:before {
                                content: ""counter(lst-ctn-kix_x41s1rdpnz1l-7, lower-latin) ". "
                        }

                        .lst-kix_tw1k779xd1a4-1>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-1, lower-latin) ". "
                        }

                        .lst-kix_tw1k779xd1a4-5>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-5, lower-roman) ". "
                        }

                        ol.lst-kix_za19uzqo5vqc-5.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-5 0
                        }

                        .lst-kix_tw1k779xd1a4-0>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-0, decimal) ". "
                        }

                        .lst-kix_tw1k779xd1a4-6>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-6, decimal) ". "
                        }

                        .lst-kix_tw1k779xd1a4-8>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-8, lower-roman) ". "
                        }

                        .lst-kix_tw1k779xd1a4-7>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-7, lower-latin) ". "
                        }

                        ol.lst-kix_2zwrtrp7d7si-8.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-8 0
                        }

                        .lst-kix_tw1k779xd1a4-8>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-8
                        }

                        ol.lst-kix_2zwrtrp7d7si-0.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-0 0
                        }

                        .lst-kix_x41s1rdpnz1l-8>li:before {
                                content: ""counter(lst-ctn-kix_x41s1rdpnz1l-8, lower-roman) ". "
                        }

                        .lst-kix_tw1k779xd1a4-2>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-2
                        }

                        ol.lst-kix_tw1k779xd1a4-1.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-1 0
                        }

                        .lst-kix_tw1k779xd1a4-3>li:before {
                                content: ""counter(lst-ctn-kix_tw1k779xd1a4-3, decimal) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-7>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-7
                        }

                        .lst-kix_za19uzqo5vqc-8>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-3, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-4, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-5, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-6, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-7, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-8, decimal) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-1>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-1
                        }

                        .lst-kix_2zwrtrp7d7si-4>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-4
                        }

                        .lst-kix_za19uzqo5vqc-7>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-3, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-4, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-5, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-6, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-7, decimal) ". "
                        }

                        ol.lst-kix_tw1k779xd1a4-0.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-0 0
                        }

                        ol.lst-kix_x41s1rdpnz1l-3.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-3 0
                        }

                        .lst-kix_za19uzqo5vqc-4>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-3, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-4, decimal) ". "
                        }

                        .lst-kix_za19uzqo5vqc-5>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-3, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-4, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-5, decimal) ". "
                        }

                        ol.lst-kix_2zwrtrp7d7si-7.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-7 0
                        }

                        ol.lst-kix_tw1k779xd1a4-7.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-7 0
                        }

                        .lst-kix_za19uzqo5vqc-6>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-3, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-4, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-5, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-6, decimal) ". "
                        }

                        .lst-kix_za19uzqo5vqc-0>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) ". "
                        }

                        .lst-kix_za19uzqo5vqc-1>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) ". "
                        }

                        ol.lst-kix_2zwrtrp7d7si-1.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-1 0
                        }

                        .lst-kix_x41s1rdpnz1l-4>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-4
                        }

                        .lst-kix_x41s1rdpnz1l-7>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-7
                        }

                        .lst-kix_za19uzqo5vqc-3>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-3, decimal) ". "
                        }

                        .lst-kix_x41s1rdpnz1l-1>li:before {
                                content: ""counter(lst-ctn-kix_x41s1rdpnz1l-1, lower-latin) ") "
                        }

                        .lst-kix_x41s1rdpnz1l-0>li:before {
                                content: ""counter(lst-ctn-kix_x41s1rdpnz1l-0, decimal) ") "
                        }

                        .lst-kix_x41s1rdpnz1l-2>li:before {
                                content: ""counter(lst-ctn-kix_x41s1rdpnz1l-2, lower-roman) ") "
                        }

                        .lst-kix_za19uzqo5vqc-2>li:before {
                                content: ""counter(lst-ctn-kix_za19uzqo5vqc-0, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-1, decimal) "."counter(lst-ctn-kix_za19uzqo5vqc-2, decimal) ". "
                        }

                        .lst-kix_x41s1rdpnz1l-1>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-1
                        }

                        .lst-kix_za19uzqo5vqc-4>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-4
                        }

                        ol.lst-kix_x41s1rdpnz1l-7.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-7 0
                        }

                        .lst-kix_x41s1rdpnz1l-3>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-3
                        }

                        .lst-kix_tw1k779xd1a4-4>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-4
                        }

                        .lst-kix_2zwrtrp7d7si-3>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-3
                        }

                        .lst-kix_2zwrtrp7d7si-2>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-2
                        }

                        ol.lst-kix_x41s1rdpnz1l-4.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-4 0
                        }

                        ol.lst-kix_tw1k779xd1a4-6.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-6 0
                        }

                        ol.lst-kix_x41s1rdpnz1l-1.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-1 0
                        }

                        .lst-kix_tw1k779xd1a4-5>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-5
                        }

                        ol.lst-kix_2zwrtrp7d7si-5.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-5 0
                        }

                        ol.lst-kix_x41s1rdpnz1l-0 {
                                list-style-type: none
                        }

                        ol.lst-kix_x41s1rdpnz1l-4 {
                                list-style-type: none
                        }

                        ol.lst-kix_x41s1rdpnz1l-3 {
                                list-style-type: none
                        }

                        .lst-kix_tw1k779xd1a4-3>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-3
                        }

                        ol.lst-kix_x41s1rdpnz1l-2 {
                                list-style-type: none
                        }

                        ol.lst-kix_x41s1rdpnz1l-1 {
                                list-style-type: none
                        }

                        .lst-kix_x41s1rdpnz1l-2>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-2
                        }

                        .lst-kix_za19uzqo5vqc-0>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-0
                        }

                        .lst-kix_x41s1rdpnz1l-5>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-5
                        }

                        .lst-kix_tw1k779xd1a4-6>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-6
                        }

                        ol.lst-kix_za19uzqo5vqc-4.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-4 0
                        }

                        .lst-kix_za19uzqo5vqc-8>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-8
                        }

                        ol.lst-kix_2zwrtrp7d7si-2.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-2 0
                        }

                        ol.lst-kix_za19uzqo5vqc-7.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-7 0
                        }

                        ol.lst-kix_x41s1rdpnz1l-8 {
                                list-style-type: none
                        }

                        ol.lst-kix_x41s1rdpnz1l-7 {
                                list-style-type: none
                        }

                        ol.lst-kix_x41s1rdpnz1l-6 {
                                list-style-type: none
                        }

                        ol.lst-kix_x41s1rdpnz1l-5 {
                                list-style-type: none
                        }

                        .lst-kix_x41s1rdpnz1l-6>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-6
                        }

                        .lst-kix_x41s1rdpnz1l-0>li {
                                counter-increment: lst-ctn-kix_x41s1rdpnz1l-0
                        }

                        ol.lst-kix_tw1k779xd1a4-4.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-4 0
                        }

                        .lst-kix_2zwrtrp7d7si-0>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-0
                        }

                        ol.lst-kix_za19uzqo5vqc-7 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-8.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-8 0
                        }

                        .lst-kix_2zwrtrp7d7si-6>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-6
                        }

                        ol.lst-kix_za19uzqo5vqc-6 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-8 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-3 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-2 {
                                list-style-type: none
                        }

                        .lst-kix_tw1k779xd1a4-1>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-1
                        }

                        ol.lst-kix_za19uzqo5vqc-5 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-4 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-6 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-5 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-4 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-3 {
                                list-style-type: none
                        }

                        .lst-kix_za19uzqo5vqc-2>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-2
                        }

                        .lst-kix_2zwrtrp7d7si-5>li {
                                counter-increment: lst-ctn-kix_2zwrtrp7d7si-5
                        }

                        ol.lst-kix_za19uzqo5vqc-1.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-1 0
                        }

                        ol.lst-kix_tw1k779xd1a4-8 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-7 {
                                list-style-type: none
                        }

                        .lst-kix_za19uzqo5vqc-6>li {
                                counter-increment: lst-ctn-kix_za19uzqo5vqc-6
                        }

                        ol.lst-kix_x41s1rdpnz1l-6.start {
                                counter-reset: lst-ctn-kix_x41s1rdpnz1l-6 0
                        }

                        ol.lst-kix_tw1k779xd1a4-2 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-1 {
                                list-style-type: none
                        }

                        ol.lst-kix_tw1k779xd1a4-0 {
                                list-style-type: none
                        }

                        .lst-kix_2zwrtrp7d7si-0>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-0, decimal) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-1>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-1, lower-latin) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-3>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-3, decimal) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-2>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-2, lower-roman) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-4>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-4, lower-latin) ". "
                        }

                        ol.lst-kix_tw1k779xd1a4-3.start {
                                counter-reset: lst-ctn-kix_tw1k779xd1a4-3 0
                        }

                        .lst-kix_2zwrtrp7d7si-7>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-7, lower-latin) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-6>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-6, decimal) ". "
                        }

                        .lst-kix_2zwrtrp7d7si-8>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-8, lower-roman) ". "
                        }

                        ol.lst-kix_za19uzqo5vqc-1 {
                                list-style-type: none
                        }

                        ol.lst-kix_za19uzqo5vqc-0 {
                                list-style-type: none
                        }

                        .lst-kix_2zwrtrp7d7si-5>li:before {
                                content: ""counter(lst-ctn-kix_2zwrtrp7d7si-5, lower-roman) ". "
                        }

                        ol.lst-kix_za19uzqo5vqc-2.start {
                                counter-reset: lst-ctn-kix_za19uzqo5vqc-2 0
                        }

                        .lst-kix_tw1k779xd1a4-7>li {
                                counter-increment: lst-ctn-kix_tw1k779xd1a4-7
                        }

                        ol.lst-kix_2zwrtrp7d7si-4.start {
                                counter-reset: lst-ctn-kix_2zwrtrp7d7si-4 0
                        }

                        ol {
                                margin: 0;
                                padding: 0
                        }

                        table td,
                        table th {
                                padding: 0
                        }

                        .c25 {
                                border-right-style: solid;
                                padding: 5pt 5pt 5pt 5pt;
                                border-bottom-color: #000000;
                                border-top-width: 0pt;
                                border-right-width: 0pt;
                                border-left-color: #000000;
                                vertical-align: top;
                                border-right-color: #000000;
                                border-left-width: 0pt;
                                border-top-style: solid;
                                background-color: #e4f0f6;
                                border-left-style: solid;
                                border-bottom-width: 0pt;
                                width: 697.9pt;
                                border-top-color: #000000;
                                border-bottom-style: solid
                        }

                        .c3 {
                                color: #a626a4;
                                font-weight: 400;
                                text-decoration: none;
                                vertical-align: baseline;
                                font-size: var(--base_font_size);
                                font-family: "Consolas";
                                font-style: normal
                        }

                        .c2 {
                                background-color: #f8f8f8;
                                padding-top: 0pt;
                                padding-bottom: 0pt;
                                line-height: 1.3571428571428572;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c10 {
                                color: #000000;
                                font-weight: 400;
                                text-decoration: none;
                                vertical-align: baseline;
                                font-size: 10pt;
                                font-family: 'Noto Sans JP';
                                font-style: normal
                        }

                        .c14 {
                                color: #a0a1a7;
                                font-weight: 400;
                                text-decoration: none;
                                vertical-align: baseline;
                                font-size: var(--base_font_size);
                                font-family: "Consolas";
                                font-style: italic
                        }

                        .c40 {
                                padding-top: 12pt;
                                padding-bottom: 12pt;
                                line-height: 1.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c1 {
                                padding-top: 0pt;
                                padding-bottom: 0pt;
                                line-height: 2.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c34 {
                                padding-top: 10pt;
                                padding-bottom: 0pt;
                                line-height: 1.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c21 {
                                color: #000000;
                                text-decoration: none;
                                vertical-align: baseline;
                                font-size: 16pt;
                                font-family: 'Noto Sans JP';
                                font-style: normal
                        }

                        .c38 {
                                padding-top: 20pt;
                                padding-bottom: 6pt;
                                line-height: 2.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c18 {
                                padding-top: 0pt;
                                padding-bottom: 0pt;
                                line-height: 1.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c42 {
                                padding-top: 0pt;
                                padding-bottom: 3pt;
                                line-height: 2.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c37 {
                                padding-top: 4pt;
                                padding-bottom: 0pt;
                                line-height: 1.0;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .c27 {
                                font-weight: 400;
                                vertical-align: baseline;
                                font-size: var(--base_font_size);
                                font-family: 'Noto Sans JP';
                                font-style: normal
                        }

                        .c19 {
                                font-family: "Consolas";
                                font-style: italic;
                                color: #a0a1a7;
                                font-weight: 400
                        }

                        .c8 {
                                text-decoration: none;
                                vertical-align: baseline;
                                font-size: var(--base_font_size);
                                font-style: normal
                        }

                        .c31 {
                                border-spacing: 0;
                                border-collapse: collapse;
                                margin-right: auto
                        }

                        .c24 {
                                text-decoration-skip-ink: none;
                                -webkit-text-decoration-skip: none;
                                color: #1155cc;
                                text-decoration: underline
                        }

                        .c16 {
                                color: #000000;
                                font-weight: 400;
                                font-family: 'Noto Sans JP'
                        }

                        .c33 {
                                text-decoration: none;
                                vertical-align: baseline;
                                font-style: normal
                        }

                        .c5 {
                                font-family: "Consolas";
                                color: #4078f2;
                                font-weight: 400
                        }

                        .c0 {
                                font-family: "Consolas";
                                color: #50a14f;
                                font-weight: 400
                        }

                        .c7 {
                                font-family: "Consolas";
                                color: #e45649;
                                font-weight: 400
                        }

                        .c4 {
                                font-family: "Consolas";
                                color: #383a42;
                                font-weight: 400
                        }

                        .c43 {
                                background-color: #ffffff;
                                max-width: 697.9pt;
                                padding: 72pt 72pt 72pt 72pt
                        }

                        .c11 {
                                font-family: "Consolas";
                                color: #c18401;
                                font-weight: 400
                        }

                        .c32 {
                                text-decoration-skip-ink: none;
                                -webkit-text-decoration-skip: none;
                                text-decoration: underline
                        }

                        .c23 {
                                font-family: "Consolas";
                                color: #0184bc;
                                font-weight: 400
                        }

                        .c17 {
                                font-family: "Consolas";
                                color: #a626a4;
                                font-weight: 400
                        }

                        .c13 {
                                font-family: "Consolas";
                                color: #986801;
                                font-weight: 400
                        }

                        .c41 {
                                width: 33%;
                                height: 1px
                        }

                        .c20 {
                                color: inherit;
                                text-decoration: inherit
                        }

                        .c36 {
                                vertical-align: baseline;
                                font-style: normal
                        }

                        .c28 {
                                color: #000000;
                                text-decoration: none
                        }

                        .c22 {
                                color: #000000;
                                font-family: 'Noto Sans JP'
                        }

                        .c39 {
                                font-size: 10.5pt
                        }

                        .c44 {
                                font-size: 26pt
                        }

                        .c12 {
                                font-weight: 700
                        }

                        .c26 {
                                height: 0pt
                        }

                        .c15 {
                                background-color: #efefef
                        }

                        .c6 {
                                height: var(--base_font_size)
                        }

                        .c30 {
                                font-size: 10pt
                        }

                        .c29 {
                                background-color: #fce5cd
                        }

                        .c35 {
                                font-size: 20pt
                        }

                        .c9 {
                                page-break-after: avoid
                        }

                        .title {
                                padding-top: 0pt;
                                color: #000000;
                                font-weight: 700;
                                font-size: 26pt;
                                padding-bottom: 3pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        .subtitle {
                                padding-top: 0pt;
                                color: #666666;
                                font-size: 15pt;
                                padding-bottom: 16pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        li {
                                color: #000000;
                                font-size: var(--base_font_size);
                                font-family: 'Noto Sans JP'
                        }

                        p {
                                margin: 0;
                                color: #000000;
                                font-size: var(--base_font_size);
                                font-family: 'Noto Sans JP'
                        }

                        h1 {
                                padding-top: 20pt;
                                color: #000000;
                                font-weight: 700;
                                font-size: 20pt;
                                padding-bottom: 6pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        h2 {
                                padding-top: 20pt;
                                color: #000000;
                                font-weight: 700;
                                font-size: 20pt;
                                padding-bottom: 6pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        h3 {
                                padding-top: 0pt;
                                color: #000000;
                                font-weight: 700;
                                font-size: 16pt;
                                padding-bottom: 0pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        h4 {
                                padding-top: var(--base_font_size);
                                color: #666666;
                                font-size: 12pt;
                                padding-bottom: 4pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        h5 {
                                padding-top: 12pt;
                                color: #666666;
                                font-size: 11pt;
                                padding-bottom: 4pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }

                        h6 {
                                padding-top: 12pt;
                                color: #666666;
                                font-size: 11pt;
                                padding-bottom: 4pt;
                                font-family: 'Noto Sans JP';
                                line-height: 2.0;
                                page-break-after: avoid;
                                font-style: italic;
                                orphans: 2;
                                widows: 2;
                                text-align: left
                        }
                </style>
                <p class="c9 c42 title" id="h.d2agt1nhqoxv"><span class="c33 c22 c12 c44">7 「フレームワーク」を活用してみよう！（2）</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c37"><span class="c24"><a class="c20" href="#h.omfd534cmyry">7-10 データ構造を定義する</a></span></p>
                <p class="c34"><span class="c24"><a class="c20" href="#h.j85xxjhd1nee">7-11 テストデータを登録する</a></span></p>
                <p class="c34"><span class="c24"><a class="c20" href="#h.obl0ofkkioie">7-12 収支情報一覧を表示する</a></span></p>
                <p class="c34"><span class="c24"><a class="c20" href="#h.xjsl7mtnpu1y">7-13 収支情報一覧をページングする</a></span>
                </p>
                <p class="c34"><span class="c24"><a class="c20" href="#h.qsfzypfjfri3">7-14 収支状況グラフを表示する</a></span></p>
                <p class="c34"><span class="c24"><a class="c20" href="#h.x3jb2h7ssox3">7-15
                                        一覧とグラフの年月選択プルダウンを追加する</a></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h1 class="c38 c9" id="h.omfd534cmyry"><span class="c33 c22 c12 c35">7-10 データ構造を定義する</span></h1>
                <p class="c1"><span
                                class="c27 c28">このアプリでは7-1で設計した通り、「収支情報」というデータを使用します。7-9で「users」テーブルを追加した際と同じように、SQLを作成してFlywayにテーブル創成を行わせましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c27 c28">また、併せて「Entity」「Repository」「Service」のセットも作成してしまいましょう。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.x4azhuetgspd"><span>1.</span></h3>
                <p class="c1"><span>「</span><span>balance_data</span><span>」テーブルを</span><span>創成</span><span
                                class="c27 c28">するSQLを作成します。「src/main/resources/」の中の「db.migration」の中に「V2__create_table_balance_data.sql」を作成し、次のSQLで置き換えてください。なお、既にFlywayの設定が完了しているため、Spring
                                Bootアプリケーションが起動状態の場合、ファイル作成や保存を行う度に再起動が行われ、「flyway.migrate()」が実行されてしまいます。</span></p>
                <p class="c1">
                        <span>これにより、ファイル作成時に空のSQLが実行された履歴が残り、次のファイル保存時の再起動によって「実行済みSQLファイルが変更された」旨のエラーが発生してしまうため、</span><span
                                class="c32">この作業の前にSpring Bootアプリケーションを停止しておきましょう</span><span
                                class="c27 c28">。万一このエラーを発生させてしまった場合には、「flyway.clean()」のコメント行を復活させて、実行履歴をクリアしてください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：V2__create_table_balance_data.sql（新規SQL）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">DROP</span><span class="c4"> </span><span
                                        class="c17">TABLE</span><span class="c4"> </span><span
                                        class="c17">IF</span><span class="c4"> </span><span
                                        class="c17">EXISTS</span><span class="c4"> </span><span
                                        class="c0">`balance_data`</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">CREATE</span><span class="c4"> </span><span
                                        class="c17">TABLE</span><span class="c4"> </span><span
                                        class="c17">IF</span><span class="c4"> </span><span class="c17">NOT</span><span
                                        class="c4"> </span><span class="c17">EXISTS</span><span class="c4"> </span><span
                                        class="c0">`balance_data`</span><span class="c8 c4"> (</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0">`id`</span><span
                                        class="c4"> </span><span class="c17">integer</span><span class="c4"> UNSIGNED
                                </span><span class="c17">NOT</span><span class="c4"> </span><span
                                        class="c17">NULL</span><span class="c4"> AUTO_INCREMENT </span><span
                                        class="c17">PRIMARY</span><span class="c4"> </span><span
                                        class="c17">KEY</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`user_id`</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c4"> UNSIGNED </span><span
                                        class="c17">NOT</span><span class="c4">
                                </span><span class="c17">NULL</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`occurred_at`</span><span class="c4"> </span><span
                                        class="c17">varchar</span><span class="c4">(</span><span
                                        class="c13">10</span><span class="c4">)
                                </span><span class="c17">NOT</span><span class="c4"> </span><span
                                        class="c17">NULL</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`title`</span><span class="c4"> </span><span
                                        class="c17">varchar</span><span class="c4">(</span><span
                                        class="c13">20</span><span class="c4">)
                                </span><span class="c17">NOT</span><span class="c4"> </span><span
                                        class="c17">NULL</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`type`</span><span class="c4"> </span><span
                                        class="c17">varchar</span><span class="c4">(</span><span
                                        class="c13">2</span><span class="c4">)
                                </span><span class="c17">NOT</span><span class="c4"> </span><span
                                        class="c17">NULL</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`amount`</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c4"> UNSIGNED </span><span
                                        class="c17">NOT</span><span class="c4">
                                </span><span class="c17">NULL</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`description`</span><span class="c4"> </span><span
                                        class="c17">text</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`created_at`</span><span class="c4"> </span><span
                                        class="c17">timestamp</span><span class="c4"> </span><span
                                        class="c17">NOT</span><span class="c4">
                                </span><span class="c17">NULL</span><span class="c4"> DEFAULT </span><span
                                        class="c23">CURRENT_TIMESTAMP</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`updated_at`</span><span class="c4"> </span><span
                                        class="c17">timestamp</span><span class="c4"> </span><span
                                        class="c17">NOT</span><span class="c4">
                                </span><span class="c17">NULL</span><span class="c4"> DEFAULT </span><span
                                        class="c23">CURRENT_TIMESTAMP</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">`active`</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c4"> UNSIGNED </span><span
                                        class="c17">NOT</span><span class="c4">
                                </span><span class="c3">NULL</span></p><br>
                        <p class="c2"><span class="c8 c4">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
                                        COLLATE=utf8mb4_unicode_ci;</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.1vsvbd4rn6v0"><span class="c21 c12">2.</span></h3>
                <p class="c1"><span
                                class="c27 c28">上記で作成したSQLのテーブル構造に対応するEntityを作成します。「BalanceData.java」を「User.java」と同じ階層に作成して、次のコードで置き換えてください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceData.java（新規クラス）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.entity;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.sql.Timestamp</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.Column</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.Entity</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.GeneratedValue</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.GenerationType</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.Id</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.Table</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.hibernate.annotations.Where</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.AllArgsConstructor</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.Getter</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.NoArgsConstructor</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.Setter</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Getter</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Setter</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">NoArgsConstructor</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">AllArgsConstructor</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Entity</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c17">Table</span><span
                                        class="c4">(</span><span class="c13">name</span><span class="c4"> = </span><span
                                        class="c0">&quot;balance_data&quot;</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c17">Where</span><span
                                        class="c4">(</span><span class="c13">clause</span><span class="c4"> =
                                </span><span class="c0">&quot;active=1&quot;</span><span class="c4">)</span><sup
                                        class="c4"><a href="#ftnt1" id="ftnt_ref1"
                                                style="user-select: none;">[1]</a></sup></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> BalanceData </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="c3">Id</span></p>
                        <br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">GeneratedValue</span><span class="c4">(</span><span
                                        class="c13">strategy</span><span class="c4"> = </span><span
                                        class="c7">GenerationType</span><span class="c4">.</span><span
                                        class="c7">IDENTITY</span><span class="c4">)</span><sup class="c4"><a
                                                href="#ftnt2" id="ftnt_ref2" style="user-select: none;">[2]</a></sup>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c4">,
                                </span><span class="c13">unique</span><span class="c4"> = </span><span
                                        class="c13">true</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c7"> id</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">name</span><span class="c4"> = </span><span
                                        class="c0">&quot;user_id&quot;</span><span class="c4">, </span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c7"> userId</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13 c15">name</span><span class="c4 c15"> = </span><span
                                        class="c0 c15">&quot;occurred_at&quot;</span><span class="c4">, </span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c4">)</span><sup class="c4"><a
                                                href="#ftnt3" id="ftnt_ref3" style="user-select: none;">[3]</a></sup>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> occurredAt</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> title</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> type</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c7"> amount</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">true</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> description</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">name</span><span class="c4"> = </span><span
                                        class="c0">&quot;created_at&quot;</span><span class="c4">, </span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c4">, </span><span
                                        class="c13">updatable</span><span class="c4"> =
                                </span><span class="c13">false</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Timestamp</span><span class="c7"> createdAt</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">name</span><span class="c4"> = </span><span
                                        class="c0">&quot;updated_at&quot;</span><span class="c4">, </span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">false</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Timestamp</span><span class="c7"> updatedAt</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Column</span><span class="c4">(</span><span
                                        class="c13">nullable</span><span class="c4"> = </span><span
                                        class="c13">true</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c7"> active</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c10">
                                        テーブルの「active」という項目が「1」である、つまり論理削除状態ではないデータのみを検索するように、Where句を自動追加するアノテーションです。</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref2" id="ftnt2">[2]</a><span class="c10">
                                        自動採番する項目は、SQLでAUTO_INCREMENTを指定し、Entityで@GeneratedValueアノテーションをこのように設定する必要があります。</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref3" id="ftnt3">[3]</a><span class="c10">
                                        テーブルの項目名は大文字小文字の区別ができません。一般的にスネークケース（すべて小文字で、単語間の区切りをアンダーバーにする形式）となりますので、@Table(name=～)と同様に@Column(name=～)にてプロパティ名と項目名を対応させます。</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.x1ktsqbrw0oq"><span class="c21 c12">3.</span></h3>
                <p class="c1"><span
                                class="c27 c28">続いてRepositoryです。「BalanceDataRepository.java」を「UserRepository.java」と同じ階層に作成して、次のコードで置き換えてください。現時点ではすべて継承しているJpaRepositoryに定義されたプロパティやメソッド（saveなど）のみで事足りていますので、クラス内に書くことはありません。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataRepository.java（新規クラス）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.repository;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.jpa.repository.JpaRepository</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.stereotype.Repository</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.BalanceData</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c14">/**</span></p><br>
                        <p class="c2"><span class="c14"> * JpaRepositoryというテーブル操作を定義したインターフェースを継承した、&lt;br&gt;</span>
                        </p><br>
                        <p class="c2"><span class="c14"> * 「balance_data」テーブルの操作を行うリポジトリのインターフェースです。</span></p><br>
                        <p class="c2"><span class="c14"> */</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Repository</span></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">interface</span><span class="c11"> BalanceDataRepository
                                </span><span class="c17">extends</span><span class="c11">
                                        JpaRepository&lt;BalanceData, Long&gt; </span><span class="c8 c4">{</span></p>
                        <br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.ksjl7q524l6c"><span class="c21 c12">4.</span></h3>
                <p class="c1"><span
                                class="c27 c28">Serviceではデータの追加を行えるようにメソッドをひとつだけ用意します。「BalanceDataService.java」を「UserService.java」と同じ階層に作成し、次のコードで置き換えてください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataService.java（新規クラス）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.service;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.sql.Timestamp</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.beans.factory.annotation.Autowired</span><span
                                        class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.stereotype.Service</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.BalanceData</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.User</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.repository.BalanceDataRepository</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c14">/**</span></p><br>
                        <p class="c2"><span class="c14"> * BalanceDataRepositoryを介してBalanceDataのCRUDを管理するサービスです。</span>
                        </p><br>
                        <p class="c2"><span class="c14"> */</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Service</span></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> BalanceDataService </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        「balance_data」テーブルの操作を行うリポジトリをDIします。</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="c3">Autowired</span>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">BalanceDataRepository</span><span class="c7"> repository</span><span
                                        class="c8 c4">;</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * データを1件登録します。</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param user
                                        登録対象データの所有者（ログイン中のUserインスタンス）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param occurredAt
                                        収支が発生した日付（String）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param title 収支のタイトル（String）</span>
                        </p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param type 「収入/支出」の区分（String）</span>
                        </p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param amount 収支の金額（unsigned
                                        int）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param description
                                        収支に関するメモ（String）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return BalanceDataインスタンス</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">BalanceData</span><span class="c4"> </span><span
                                        class="c5">addData</span><span class="c4">(</span><span
                                        class="c11">User</span><span class="c4"> user, </span><span
                                        class="c11">String</span><span class="c8 c4"> occurredAt,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">String</span><span class="c4"> title, </span><span
                                        class="c11">String</span><span class="c4"> type, </span><span
                                        class="c17">int</span><span class="c4">
                                        amount, </span><span class="c11">String</span><span class="c8 c4"> description)
                                        {</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Timestamp</span><span class="c7"> now </span><span class="c4">=
                                </span><span class="c17">new</span><span class="c4"> </span><span
                                        class="c5">Timestamp</span><span class="c4">(</span><span
                                        class="c7">System</span><span class="c4">.</span><span
                                        class="c5">currentTimeMillis</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c7">repository</span><span class="c4">.</span><span
                                        class="c5">save</span><span class="c4">(</span><span class="c17">new</span><span
                                        class="c4"> </span><span class="c5">BalanceData</span><span
                                        class="c4">(</span><span class="c13">null</span><span class="c4">,
                                </span><span class="c7">user</span><span class="c4">.</span><span
                                        class="c5">getId</span><span class="c8 c4">(),</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;occurredAt,
                                        title, type, amount, description, now, now, </span><span
                                        class="c13">1</span><span class="c8 c4">));</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.ky5gegu8vali"><span class="c21 c12">5.</span></h3>
                <p class="c1"><span class="c27 c28">Spring
                                Bootアプリケーションを起動して、エラーが発生せず、phpMyAdminからテーブルが正しく創成されていることが確認出来たら、コミットしておきましょう！</span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh4.googleusercontent.com/z3xxUdw3MeQ4R_Uiyk4ACygRf72P4nwIKa4liYNXDBVAkLWi_R62KxJKSdKJGUfpWifBP_Rdr6IpwMVd4N7b5jFWJVnD1SD_y4OwiZhUdfFGTIGOFaKynaFWtpIaAn3oU1leK5PP"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h1 class="c38 c9" id="h.j85xxjhd1nee"><span class="c33 c22 c12 c35">7-11 テストデータを登録する</span></h1>
                <p class="c1">
                        <span>家計簿のような、「蓄積したデータを分析するアプリ」を作成する際には、新規登録や更新といった処理よりも、一覧やグラフなどの表示周りを先に作ることをお勧めしたいと思います。もちろん、作成するアプリの規模・仕様や、チームの方針・手法などによって変わりますが、先に「</span><span
                                class="c32">どんなデータが</span><span>、</span><span
                                class="c32">どう見えるか</span><span>、</span><span class="c32">どう使えるか</span><span
                                class="c27 c28">」を作ってみることで、設計したデータ構造の過不足が判明したり、入力インターフェイスの改良ポイントが見えたりするメリットがあります。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span
                                class="c27 c28">本来は設計時により深く分析ができれば良いのですが、大量のテストデータを見て気付けることもたくさんあります。ただし、ただのランダムデータでは、実際の分析時や入力時のイメージと乖離してしまい意味がありません。ここでは、「思い通りのランダム」な大量データを簡単に生成する方法を学びましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.elp7ocqwdcd3"><span class="c21 c12">1.</span></h3>
                <p class="c1"><span>データの1つ1つは</span><span class="c24"><a class="c20"
                                        href="#h.1vsvbd4rn6v0">7-10-2</a></span><span
                                class="c27 c28">で作成した「BalanceData」のEntityですね。これをランダムな内容で生成してDBへ登録できれば良いのですが、既にServiceまで作成してあるためこれをテストしながらできれば一石二鳥ですね。</span>
                </p>
                <p class="c1"><span class="c27 c28">しかし、どのようにしてServiceを「インスタンス化」して使用できるようにすれば良いでしょうか？</span></p>
                <p class="c1"><span class="c27 c28">Spring BootによるDIでは、裏方でいろいろな処理が動いているのですが、それを再現できるのでしょうか？</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c27 c28">これを解決するために、Spring Bootでテストを補助する仕組みを用意していますので、それを活用します。</span></p>
                <p class="c1"><span
                                class="c27 c28">「src/test/java」の中に「src/main/java」の中と同じパッケージ階層がありますので、「service」フォルダと「BalanceDataServiceTests.java」というファイルを作成し、次のコードで置き換えてください。</span>
                </p>
                <p class="c1 c6"><span class="c8 c16"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataServiceTests.java（新規クラス）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.service;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.LocalDate</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.temporal.ChronoField</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.Random</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.junit.Test</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.junit.runner.RunWith</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.beans.factory.annotation.Autowired</span><span
                                        class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.boot.test.context.SpringBootTest</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.test.annotation.Rollback</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.test.context.junit4.SpringRunner</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.User</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.service.BalanceDataService</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c17">RunWith</span><span
                                        class="c4">(</span><span class="c7">SpringRunner</span><span
                                        class="c4">.</span><span class="c7">class</span><span class="c8 c4">)</span></p>
                        <br>
                        <p class="c2"><span class="c4">@</span><span class="c3">SpringBootTest</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c17">AutoConfigureTestDatabase</span><span
                                        class="c4">(</span><span class="c13">replace</span><span class="c4"> =
                                </span><span class="c7">AutoConfigureTestDatabase</span><span class="c4">.</span><span
                                        class="c7">Replace</span><span class="c4">.</span><span
                                        class="c7">NONE</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> BalanceDataServiceTests </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="c3">Autowired</span>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">BalanceDataService</span><span class="c7">
                                        balanceDataService</span><span class="c4">;</span><sup class="c4"><a
                                                href="#ftnt4" id="ftnt_ref4" style="user-select: none;">[4]</a></sup>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="c3">Test</span></p>
                        <br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Rollback</span><span class="c4">(</span><span
                                        class="c13">false</span><span class="c4">)</span><sup class="c4"><a
                                                href="#ftnt5" id="ftnt_ref5" style="user-select: none;">[5]</a></sup>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">void</span><span class="c4"> </span><span
                                        class="c5">insertTestData</span><span class="c8 c4">() {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// ランダマイザー</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Random</span><span class="c7"> rnd </span><span class="c4">=
                                </span><span class="c17">new</span><span class="c4"> </span><span
                                        class="c5">Random</span><span class="c8 c4">();</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// ユーザー</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11 c15">User</span><span class="c7 c15">[] users
                                </span><span class="c4 c15">= {</span><sup class="c4"><a href="#ftnt6" id="ftnt_ref6"
                                                style="user-select: none;">[6]</a></sup></p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">new</span><span class="c4 c15">
                                </span><span class="c5 c15">User</span><span class="c4 c15">()
                                        {{ </span><span class="c5 c15">setId</span><span class="c4 c15">(</span><span class="c13 c15">1L</span><span class="c8 c4 c15">); }},</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">new</span><span class="c4 c15">
                                </span><span class="c5 c15">User</span><span class="c4 c15">()
                                        {{ </span><span class="c5 c15">setId</span><span class="c4 c15">(</span><span class="c13 c15">2L</span><span class="c8 c4 c15">); }},</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">new</span><span class="c4 c15">
                                </span><span class="c5 c15">User</span><span class="c4 c15">()
                                        {{ </span><span class="c5 c15">setId</span><span class="c4 c15">(</span><span class="c13 c15">3L</span><span class="c8 c4 c15">); }}
                                        };</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 日付</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> </span><span
                                        class="c7">startDate</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c4">().</span><span
                                        class="c5">minusMonths</span><span class="c4">(</span><span
                                        class="c13">2</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> endDate
                                </span><span class="c4">= </span><span class="c7">LocalDate</span><span
                                        class="c4">.</span><span class="c5">now</span><span class="c4">().</span><span
                                        class="c5">plusMonths</span><span class="c4">(</span><span
                                        class="c13">2</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">int</span><span class="c7 c15"> dateRange
                                </span><span class="c4 c15">= (</span><span class="c17 c15">int</span><span
                                        class="c4 c15">) (</span><span class="c7 c15">endDate</span><span
                                        class="c4 c15">.</span><span class="c5 c15">getLong</span><span
                                        class="c4 c15">(</span><span class="c7 c15">ChronoField</span><span
                                        class="c4 c15">.</span><span class="c7 c15">EPOCH_DAY</span><span
                                        class="c4 c15">)</span><sup class="c4"><a href="#ftnt7" id="ftnt_ref7"
                                                style="user-select: none;">[7]</a></sup></p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-
                                </span><span class="c7 c15">startDate</span><span class="c4 c15">.</span><span
                                        class="c5 c15">getLong</span><span class="c4 c15">(</span><span
                                        class="c7 c15">ChronoField</span><span class="c4 c15">.</span><span
                                        class="c7 c15">EPOCH_DAY</span><span class="c8 c4 c15">));</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// タイトルと区分</span><sup class="c19"><a href="#ftnt8" id="ftnt_ref8"
                                                style="user-select: none;">[8]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">String</span><span class="c7">[][] </span><span
                                        class="c7">titleAndType</span><span class="c7"> </span><span class="c8 c4">=
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
                                </span><span class="c0">&quot;繰越&quot;</span><span class="c4">,
                                </span><span class="c0">&quot;収入&quot;</span><span class="c4"> }, { </span><span
                                        class="c0">&quot;ギャラ&quot;</span><span class="c4">, </span><span
                                        class="c0">&quot;収入&quot;</span><span class="c4"> }, { </span><span
                                        class="c0">&quot;印税&quot;</span><span class="c4">, </span><span
                                        class="c0">&quot;収入&quot;</span><span class="c4"> }, { </span><span
                                        class="c0">&quot;株式配当&quot;</span><span class="c4">, </span><span
                                        class="c0">&quot;収入&quot;</span><span class="c8 c4"> },</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
                                </span><span class="c0">&quot;家賃&quot;</span><span class="c4">,
                                </span><span class="c0">&quot;支出&quot;</span><span class="c4"> }, { </span><span
                                        class="c0">&quot;食費&quot;</span><span class="c4">, </span><span
                                        class="c0">&quot;支出&quot;</span><span class="c8 c4"> },</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
                                </span><span class="c0">&quot;沖縄ダイビング旅行&quot;</span><span class="c4">,
                                </span><span class="c0">&quot;支出&quot;</span><span class="c4"> }, { </span><span
                                        class="c0">&quot;槍ヶ岳登山旅行&quot;</span><span class="c4">, </span><span
                                        class="c0">&quot;支出&quot;</span><span class="c8 c4"> } };</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> </span><span
                                        class="c7">titleAndTypeIdx</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c13">0</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// メモ</span><sup class="c19"><a href="#ftnt9" id="ftnt_ref9"
                                                style="user-select: none;">[9]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">String</span><span class="c7"> memoSeed </span><span class="c4">=
                                </span><span class="c8 c0">&quot;あいうえおかきくけこさしすせそたちつてとなにぬねの&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+
                                </span><span class="c0">&quot;はひふへほまみむめもやゐゆゑよらりるれろわをん、。&quot;</span><span class="c4"> +
                                </span><span class="c0">&#39;</span><span class="c23">\n</span><span
                                        class="c0">&#39;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> memoLength </span><span class="c4">=
                                </span><span class="c13">20</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">String</span><span class="c7"> memo </span><span class="c4">=
                                </span><span class="c0">&quot;&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// テストデータ作成</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">for</span><span class="c4"> (</span><span
                                        class="c17">int</span><span class="c7"> idx </span><span class="c4">=
                                </span><span class="c13">0</span><span class="c4">; idx &lt; </span><span
                                        class="c13">6000</span><span class="c4">;
                                        idx++) {</span><sup class="c4"><a href="#ftnt10" id="ftnt_ref10"
                                                style="user-select: none;">[10]</a></sup></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;titleAndTypeIdx
                                        = </span><span class="c7">rnd</span><span class="c4">.</span><span
                                        class="c5">nextInt</span><span class="c4">(</span><span
                                        class="c7">titleAndType</span><span class="c4">.</span><span
                                        class="c7">length</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memo
                                        = </span><span class="c0">&quot;&quot;</span><span class="c8 c4">;</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">for</span><span class="c4"> (</span><span
                                        class="c17">int</span><span class="c7"> memoCharIdx </span><span class="c4">=
                                </span><span class="c13">0</span><span class="c8 c4">; memoCharIdx &lt; memoLength;
                                        memoCharIdx++) {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memo
                                        += </span><span class="c7">memoSeed</span><span class="c4">.</span><span
                                        class="c5">charAt</span><span class="c4">(</span><span
                                        class="c7">rnd</span><span class="c4">.</span><span
                                        class="c5">nextInt</span><span class="c4">(</span><span
                                        class="c7">memoSeed</span><span class="c4">.</span><span
                                        class="c5">length</span><span class="c8 c4">()));</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">balanceDataService</span><span class="c4">.</span><span
                                        class="c5">addData</span><span class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;users[</span><span
                                        class="c7">rnd</span><span class="c4">.</span><span
                                        class="c5">nextInt</span><span class="c4">(</span><span
                                        class="c7">users</span><span class="c4">.</span><span
                                        class="c7">length</span><span class="c8 c4">)],</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">startDate</span><span class="c4">.</span><span
                                        class="c5">plusDays</span><span class="c4">(</span><span
                                        class="c7">rnd</span><span class="c4">.</span><span
                                        class="c5">nextInt</span><span class="c4">(dateRange)).</span><span
                                        class="c5">toString</span><span class="c8 c4">(),</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4">titleAndType</span><span class="c4">[</span><span
                                        class="c4">titleAndTypeIdx</span><span class="c4">][</span><span
                                        class="c13">0</span><span class="c8 c4">],</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4">titleAndType</span><span class="c4">[</span><span
                                        class="c4">titleAndTypeIdx</span><span class="c4">][</span><span
                                        class="c13">1</span><span class="c8 c4">],</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">rnd</span><span class="c4">.</span><span
                                        class="c5">nextInt</span><span class="c4">(</span><span
                                        class="c13">1000000</span><span class="c8 c4">),</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memo);</span>
                        </p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
                        <br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref4" id="ftnt4">[4]</a><span class="c10">
                                        @SpringBootTestによってDIが利用できる！！</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref5" id="ftnt5">[5]</a><span class="c10">
                                        本来はテストのために登録したデータをRollback（なかったことにする）機能が備わっていますが、それを無効にしてテストデータ登録に使っています。</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref6" id="ftnt6">[6]</a><span class="c10">
                                        idが1～3のダミーユーザーを生成しています。コンストラクタに続けて「{{ ～ }}」で括る構文（※）はインスタンスイニシャライザと言い、この中ではコンストラクタで行うような初期化などの処理が可能です。</span>
                        </p>
                        <p class="c40"><span class="c10">（※より正しく知りたい方は無名クラスと併せて調べてみましょう！）</span></p>
                        <p class="c6 c18"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref7" id="ftnt7">[7]</a><span class="c10">
                                        テスト当日から前後2か月間の日付をランダムに生成します。</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref8" id="ftnt8">[8]</a><span class="c10">
                                        タイトルと区分はセットで用意します。</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref9" id="ftnt9">[9]</a><span class="c10">
                                        メモはこの文字の中からランダムに20文字を連結します。（改行も含む）</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref10" id="ftnt10">[10]</a><span class="c10">
                                        6000件のデータを投入します。</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.6f1454qxqmag"><span class="c21 c12">2.</span></h3>
                <p class="c1"><span
                                class="c27 c28">このクラス自体の起動は、「Gradle」という仕組みで行います。「BalanceDataServiceTests.java」を右クリックして、「実行」の中の「Gradleテスト」を実行してください。「Gradle実行」というビューが表示されますので、すべて緑色のチェックマークとなり、「実行中」の文字が消えれば正常終了です。phpMyAdminからも実データを確認して、問題無ければコミットしておきましょう！</span>
                </p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 484.00px;"><img
                                        alt=""
                                        src="https://lh4.googleusercontent.com/h14BlPPyoUEEMlEGLiWTEKG_g0Uq9owYhUId5rrvB5n5QmjIktw4RAldr14BUnRIdqgLAvAwmwzHSrxjw8BHrg0HR8BoBNz3cRIYpDc1jnUOj9jQ9sTBccw3ZZ-Rx49ZpkPwVSf1"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh3.googleusercontent.com/yvhTxjGfp7bdrPcQj8rSxtt0xf7HOSLImDUa95zNc6x9Sk6gGwReR1uLKu0aXJhbiqf9_c7XnyEsLSJ31aj95d_D1lVAlJ6I8QAE0XXii85Ns8iMuH28JfD8_qC3Q3LeL94YeJJH"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p><a
                        id="t.19940069a25a6d455ddf279145dfc8e8d5d512e0"></a><a id="t.0"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span>「</span><span class="c32">テスト駆動型開発</span><span
                                                                class="c27 c28">」という手法では、作成するクラスと1対1で、先にテスト用のクラスを作成します。メソッドを書く時には、その結果が想定できているから書けるのであって、先にその想定結果をテストクラスに書いてしまおう、という考え方です。今回はテストデータ投入のみで終わりますが、投入結果を検証することもできます。このあたりは自分で検索して調べてみましょう！</span>
                                                </p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h1 class="c38 c9" id="h.obl0ofkkioie"><span class="c33 c22 c12 c35">7-12 収支情報一覧を表示する</span></h1>
                <p class="c1"><span
                                class="c27 c28">テストデータの登録が完了しましたので、一覧の実装に移りましょう。7-1の仕様を確認すると、「収支情報一覧では選択した年月の収支情報を一覧表示する。また、各情報には「変更」と「削除」のボタンを設置する。」となっており、「収支情報一覧のソート順は、日付の降順、かつ登録日時の降順とする。」となっています。「選択した年月」の部分は仕様の「その他」で「年月選択プルダウンは一覧とグラフで共通」とあるので後回しにして、とりあえず今月のデータを一覧化してみましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.9h84y5ez7147"><span class="c21 c12">1.</span></h3>
                <p class="c1"><span
                                class="c27 c28">まずはデータを受け取る側から考えてみましょう。Controllerでは対象ユーザーと年月を指定してBalanceDataのListをServiceから受け取り、そのままViewに渡せば良いので、次のように修正しましょう。現時点では、BalanceDataServiceに「getListData」というメソッドは存在しないため、エラーとなり赤い波線が付きます。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataController.java（クラスの中身修正）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt11" id="ftnt_ref11"
                                                style="user-select: none;">[11]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.beans.factory.annotation.Autowired</span><span
                                        class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.BalanceData</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.service.BalanceDataService</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Autowired</span><sup class="c17"><a href="#ftnt12" id="ftnt_ref12"
                                                style="user-select: none;">[12]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">BalanceDataService</span><span class="c7">
                                        balanceDataService</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">RequestMapping</span><span class="c4">(</span><span
                                        class="c0">&quot;&quot;</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c4"> </span><span
                                        class="c5">index</span><span class="c4">(</span><span
                                        class="c11">Model</span><span class="c4"> model, @</span><span
                                        class="c17">AuthenticationPrincipal</span><span class="c4"> </span><span
                                        class="c11">User</span><span class="c8 c4"> user) {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// ログインユーザー名</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;userName&quot;</span><span class="c4">, </span><span
                                        class="c7">user</span><span class="c4">.</span><span
                                        class="c5">getDisplayname</span><span class="c8 c4">());</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// 表示対象年月</span><sup class="c19"><a href="#ftnt13" id="ftnt_ref13"
                                                style="user-select: none;">[13]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> year </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c4">().</span><span
                                        class="c5">getYear</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> month </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c4">().</span><span
                                        class="c5">getMonthValue</span><span class="c8 c4">();</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// リストデータ</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">List</span><span class="c7">&lt;</span><span
                                        class="c11">BalanceData</span><span class="c7">&gt; balanceDataList </span><span
                                        class="c8 c4">=</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c7">balanceDataService</span><span class="c4">.</span><span
                                        class="c5">getListData</span><span class="c8 c4">(user, year, month);</span></p>
                        <br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;list&quot;</span><span class="c8 c4">, balanceDataList);</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c0">&quot;balancedata/index&quot;</span><span class="c8 c4">;</span></p>
                        <br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref11" id="ftnt11">[11]</a><span class="c10"> import を追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref12" id="ftnt12">[12]</a><span class="c10"> Service を DI</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref13" id="ftnt13">[13]</a><span class="c10">
                                        仮で表示対象年月を今月とします。</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.bmn637vazlli"><span class="c21 c12">2.</span></h3>
                <p class="c1"><span class="c27 c28">先ほどのエラーの赤い波線から、「型 &#39;BalanceDataService&#39; のメソッド
                                &#39;getListData(User,
                                int, int)&#39;
                                を作成します」というクイックフィックスを実行すると、BalanceDataServiceに引数や戻り値などの定義までされた「getListData」が追加されます。追加されたgetListDataの中身を次のコードで置き換えましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataService.java（メソッド追加、import追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.LocalDate</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.temporal.TemporalAdjusters</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.List</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ユーザーが所有するデータを年月で絞り込んで取得します。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * ソート順は収支発生日付と最終更新日付のそれぞれ降順です。</span>
                        </p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param user
                                        取得対象データの所有者（ログイン中のUserインスタンス）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param year 取得対象年</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param month 取得対象月</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return BalanceDataの検索結果</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">List</span><span class="c4">&lt;</span><span
                                        class="c4">BalanceData</span><span class="c4">&gt; </span><span
                                        class="c5">getListData</span><span class="c4">(</span><span
                                        class="c11">User</span><span class="c4"> user, </span><span
                                        class="c17">int</span><span class="c4">
                                        year, </span><span class="c17">int</span><span class="c8 c4"> month) {</span>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> </span><span
                                        class="c7">startDate</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">of</span><span class="c4">(year,
                                        month, </span><span class="c13">1</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> endDate
                                </span><span class="c4">= </span><span class="c7">startDate</span><span
                                        class="c4">.</span><span class="c5">with</span><span class="c4">(</span><span
                                        class="c7">TemporalAdjusters</span><span class="c4">.</span><span
                                        class="c5">lastDayOfMonth</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c8 c7">repository</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span
                                        class="c5">findByUserIdAndOccurredAtBetweenOrderByOccurredAtDescUpdatedAtDesc</span><span
                                        class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">user</span><span class="c4">.</span><span
                                        class="c5">getId</span><span class="c4">(), </span><span
                                        class="c7">startDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c4">(), </span><span
                                        class="c7">endDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span
                                class="c27 c28">ここでも、呼び出している長い名前のメソッドが存在しないためエラーとなりますので、クイックフィックスによりBalanceDataRepositoryへメソッドを追加しておきましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span
                                class="c27 c28">この長いメソッド名については後ほど謎を解き明かしますので、ここでは引数に注目してください。Serviceが間に入ってやっていることは、引数を変換しているだけです。この引数をそのままRepositoryに渡す・・・というよりも、そもそもControllerとRepositoryで直接やり取りできそうですが、なぜダメなのでしょうか？</span>
                </p>
                <p class="c1"><span
                                class="c27 c28">そうしないことのメリットを挙げておきますので、「特別な知識を必要とする処理を集約する」というServiceの存在意義について考えてみてください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p><a
                        id="t.3fa455e8c05264b1be4f80390ff1cbd35448e9fb"></a><a id="t.1"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c8 c22 c12">(1)</span></p>
                                                <p class="c1"><span
                                                                class="c27 c28">RepositoryがUserに紐付くデータを特定する際、idを使用することをControllerが知る必要は無い。</span>
                                                </p>
                                                <p class="c1"><span
                                                                class="c8 c16">特定に必要な項目が変更されても、Controllerはいつも「このUserのデータください！」と言える。</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c12">(2)</span></p>
                                                <p class="c1"><span
                                                                class="c27 c28">年月範囲の検索を行う際、検索対象項目に「yyyy-mm-dd」の形式でデータが保存されていることや、その月の開始日と終了日を算出する方法をControllerは知る必要が無い。</span>
                                                </p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.x6wv2jn4rtwc"><span class="c21 c12">3.</span></h3>
                <p class="c1"><span
                                class="c27 c28">続いてRepositoryです。クイックフィックスによって長い名前のメソッドを追加しましたが、引数名が直感的ではありません。「id」は「userId」に、「string」は「start」に、「string2」は「end」に変更しましょう。</span>
                </p>
                <p class="c1"><span class="c27 c28">メソッドの中身が空っぽですが、これでRepositoryへの修正は完了です（後でコメントは追加しましょう）。</span></p>
                <p class="c1"><span
                                class="c8 c16">このRepositoryは「Class」ではなく「Interface」として作成しているため、「Implements」するクラスにメソッドの中身の実装を委ねるのです。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c27 c28">では、誰がいつImplementsするのかというと、BalanceDataServiceにSpring
                                BootがAutowiredによりこのRepositoryをDIする際になります。そこで中身を実装しインスタンス化してくれます。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span
                                class="c27 c28">一体中身はどうやって作るのか、その秘密がこの長いメソッド名に隠されています。実はJPAが決めたルールに則ってメソッド名を付けると、その通りに検索SQLを生成する処理を実装してくれる仕組みとなっています。</span>
                </p>
                <p class="c1"><span
                                class="c27 c28">メソッド名を分解し、対応するSQLのパーツを記載しておきますので、このメソッド名からどんな検索SQLが生成されるのかを確認しておきましょう！（UserRepository.javaも振り返り確認しておきましょう。）</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜分解したメソッド名と生成されるSQLの対応＞</span></p><a
                        id="t.58dff378fded1e31f638839a220b89d5658ecec2"></a><a id="t.2"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c12">(1)「</span><span
                                                                class="c12">findByUserId</span><span
                                                                class="c12">」⇒</span><span class="c8 c16">「SELECT * FROM
                                                                balance_data WHERE user_id =
                                                                引数1」</span></p>
                                                <p class="c1"><span class="c12">(2)「AndOccurredAtBetween」⇒</span><span
                                                                class="c8 c16">「AND
                                                                occurred_at BETWEEN &#39;引数2&#39; AND
                                                                &#39;引数3&#39;」</span></p>
                                                <p class="c1"><span class="c12">(3)「OrderByOccurredAtDesc」⇒</span><span
                                                                class="c27 c28">「ORDER
                                                                BY occurred_at DESC」</span></p>
                                                <p class="c1"><span class="c12">(4)「</span><span
                                                                class="c12">UpdatedAtDesc</span><span
                                                                class="c12">」⇒</span><span>「, updated_at DESC」</span>
                                                </p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c8 c22 c12"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataRepository.java（メソッド定義追加）</span></p>
                <p class="c1 c6"><span class="c8 c22 c12"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        balance_dataテーブルをuser_idとoccurred_atの範囲で検索します。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ソート順はoccurred_atとupdated_atのそれぞれ降順です。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * &lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        JPAのルールで「findBy～」をinterfaceに定義しておくと&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * 自動的に「～」で検索するメソッドを実装してくれます。</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param userId user_idの検索値</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param start
                                        occurred_atのbetweenの開始値</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param end
                                        occurred_atのbetweenの終了値</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return BalanceDataの検索結果</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">List</span><span class="c8 c4">&lt;BalanceData&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c5">findByUserIdAndOccurredAtBetweenOrderByOccurredAtDescUpdatedAtDesc</span><span
                                        class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Long</span><span class="c4"> userId,
                                </span><span class="c11">String</span><span class="c4"> start, </span><span
                                        class="c11">String</span><span class="c8 c4"> end);</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.ci85j5ybku70"><span class="c21 c12">4.</span></h3>
                <p class="c1"><span
                                class="c27 c28">「src/main/resources」の中の「templates/balancedata/list.html」が、「収支情報一覧」に対応するViewですので、次のコードで置き換えてください。</span>
                </p>
                <p class="c1 c6"><span class="c8 c16"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜ポイント＞</span></p><a
                        id="t.0fb4b8a0f7bd88cf06246ac172f66a0c10a91066"></a><a id="t.3"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c8 c22 c12">(1)</span></p>
                                                <p class="c1"><span>「</span><span
                                                                class="c29">th:if=&quot;${list.size()&gt;0}&quot;</span><span
                                                                class="c27 c28">」によって、検索結果が1件以上の場合に一覧を表示させています。</span>
                                                </p>
                                                <p class="c1"><span>また、反対に「</span><span
                                                                class="c29">th:if=&quot;${list.size()==0}&quot;</span><span
                                                                class="c27 c28">」によって、0件の場合のメッセージを表示させています。</span></p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(2)</span></p>
                                                <p class="c1"><span>「</span><span class="c29">th:each=&quot;data :
                                                                ${list}&quot;</span><span>」を付与したHTMLタグは、繰り返しの数だけ生成されます。ここではControllerから渡された「list＝List&lt;BalanceData&gt;」のデータの数だけ繰り返します。このタグの中では、「</span><span
                                                                class="c29">${data.getId()}</span><span
                                                                class="c27 c28">」の構文で「data＝BalanceData」を扱うことが可能となります。</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(3)</span></p>
                                                <p class="c1"><span
                                                                class="c27 c28">「変更」「削除」ボタンはまだ機能しませんが、ボタンのみ配置しています。</span>
                                                </p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c8 c12 c22"></span></p>
                <p class="c2"><span class="c8 c22 c12">サンプルコード：list.html（すべて置き換え）</span></p>
                <p class="c1 c6"><span class="c8 c22 c12"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&lt;!</span><span class="c7">DOCTYPE</span><span class="c4">
                                </span><span class="c13">html</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">html</span><span class="c4">
                                </span><span class="c13">xmlns:th</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;http://www.thymeleaf.org&quot;</span></p><br>
                        <p class="c2"><span class="c4"> </span><span class="c13">xmlns:layout</span><span
                                        class="c4">=</span><span
                                        class="c0">&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;</span><span
                                        class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;card
                                        mt-4&quot;</span><span class="c4"> </span><span
                                        class="c13">layout:fragment</span><span class="c4">=</span><span
                                        class="c0">&quot;card&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-header&quot;</span><span
                                        class="c4">&gt;収支情報一覧&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-body&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">table</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c8 c0">&quot;table
                                        table-sm table-bordered
                                        table-hover&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13 c15">th:if</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;${list.size()&gt;0}&quot;</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">thead</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;thead-light&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">tr</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;ＩＤ&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;日付&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;区分&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;金額&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;タイトル&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;メモ&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4">&gt;操作&lt;/</span><span class="c7">th</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">tr</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">thead</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">tbody</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">tr</span><span class="c4"> </span><span
                                        class="c13 c15">th:each</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;data :
                                        ${list}&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4"> </span><span class="c13">th:text</span><span
                                        class="c4">=</span><span class="c0">&quot;${data.getId()}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">td</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4"> </span><span class="c13">th:text</span><span
                                        class="c4">=</span><span
                                        class="c0">&quot;${data.getOccurredAt()}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">td</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4"> </span><span class="c13">th:text</span><span
                                        class="c4">=</span><span class="c0">&quot;${data.getType()}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">td</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-right&quot;</span><span
                                        class="c4"> </span><span class="c13">th:text</span><span
                                        class="c4">=</span><span class="c0">&quot;${data.getAmount()}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">td</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c4"> </span><span class="c13">th:text</span><span
                                        class="c4">=</span><span class="c0">&quot;${data.getTitle()}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">td</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-left&quot;</span><span
                                        class="c4"> </span><span class="c13">th:text</span><span
                                        class="c4">=</span><span
                                        class="c0">&quot;${data.getDescription()}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">td</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">td</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;text-center&quot;</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">input</span><span class="c4">
                                </span><span class="c13">type</span><span class="c4">=</span><span
                                        class="c0">&quot;button&quot;</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;btn
                                        btn-sm </span><span class="c0">btn-outline-success</span><span class="c8 c0">
                                        ml-1&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">value</span><span class="c4">=</span><span
                                        class="c0">&quot;変更&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">input</span><span class="c4">
                                </span><span class="c13">type</span><span class="c4">=</span><span
                                        class="c0">&quot;button&quot;</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;btn
                                        btn-sm </span><span class="c0">btn-outline-danger</span><span class="c8 c0">
                                        ml-1&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">value</span><span class="c4">=</span><span
                                        class="c0">&quot;削除&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">td</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">tr</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">tbody</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">table</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;alert
                                        alert-info
                                        mt-3&quot;</span><span class="c4"> </span><span class="c13">role</span><span
                                        class="c4">=</span><span class="c0">&quot;alert&quot;</span><span class="c4">
                                </span><span class="c13 c15">th:if</span><span class="c4 c15">=</span><span
                                        class="c8 c0 c15">&quot;${list.size()==0}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;#{balancedata.nodata}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">html</span><span
                                        class="c8 c4">&gt;</span></p><br>
                </div>
                <p class="c1 c6"><span class="c8 c16"></span></p>
                <h3 class="c1 c9" id="h.1dvoj5wbvlha"><span class="c21 c12">5.</span></h3>
                <p class="c1"><span
                                class="c27 c28">messages.propertiesへ「balancedata.nodata=データがありません」を追加しておきましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.f6ox6n2vsaaf"><span class="c21 c12">6.</span></h3>
                <p class="c1"><span
                                class="c8 c16">これで、ControllerがServiceに指示してRepositoryからBalanceDataのListを取得し、それをViewであるlist.htmlへ渡して一覧を表示させることができているはずです。無事表示出来たらコミットしておきましょう！</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span
                                class="c27 c28">ただし、テストデータ6000件の内、ユーザーが3人分なので3分の1、前後2ヶ月なのでさらに4分の1とはなるものの、約500件ものデータが1画面に表示されてしまっています。次の節では、これを何件かずつページ単位に区切って表示できるようにしましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜ここまでの表示結果＞</span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh6.googleusercontent.com/pMH59jLpesnRXEMicsyugqcI4zt5xzXkYWAsPZaXCFujcC-DYR1soXNoQYtOpfomuqmACyy8B8PD_NFL4FUewP3qgySAqX5GdQF3pktmSufJCE3V309pa1aSjhREGYP9_AamM50w"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1"><span class="c27 c28"> </span></p>
                <p class="c1"><span class="c8 c22 c12">＜データ0件の確認方法＞</span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh5.googleusercontent.com/uagHdM3M8mDY1tZwrT4ylWDCpo905cuMXLERIpHtt8UVGtSGhaEbqp0uAlYWQz8rmCkYmvzj1CLzzjYdZ_EuwYdXtbHCGkei3MW8t4FfavIoHcO1z7fyQ2CuJ5ziAGltgM2ZbQzu"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p><a
                        id="t.6116caf235728048646907be0c5791d36d09b9f3"></a><a id="t.4"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c12">(1)</span><span class="c27 c28">
                                                                phpMyAdminでbalance_dataの「空にする」をクリックすると、データが全件削除されます。</span>
                                                </p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh6.googleusercontent.com/JpojK-JmkIOEDdBkBjmI4FriZFXwTmKhzd8YM3qqze4D68yAzrI5aesrlziJXv5b0XFqxScuST8u8uLop5xRaYTsJZ3mWJtR2fxym4izFhyHD9HQX_rfT1uSx3gNnSxBS9KD_S5S"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p><a id="t.6b3256f890cef19b806001f84392d2a1d2fbaa32"></a><a
                        id="t.5"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c12">(2)</span><span>
                                                        </span><span>テストデータの復旧は、再度</span><span class="c24"><a
                                                                        class="c20"
                                                                        href="#h.6f1454qxqmag">7-11-2</a></span><span
                                                                class="c27 c28">の手順を実行してください。</span></p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h1 class="c38 c9" id="h.xjsl7mtnpu1y"><span class="c33 c22 c12 c35">7-13 収支情報一覧をページングする</span></h1>
                <p class="c1"><span
                                class="c27 c28">WEBアプリケーションで大量のデータを一度に表示させてしまうと、データ処理や送受信に時間がかかり、ユーザーは長時間待たされることになってしまいます。またそれだけでなく、サーバーやネットワークに高負荷がかかってしまい、通信の圧迫や最悪の場合にはサービスが停止してしまう恐れもあります。これを防ぐために、一覧などのページングは必須の機能と言えるでしょう。もちろんフレームワークに用意されているので、それを活用しましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.piauw1w3u3k5"><span class="c21 c12">1.</span></h3>
                <p class="c1"><span
                                class="c27 c28">ControllerやService/Repositoryで一覧データを受け渡す際には、BalanceDataをListに入れていましたが、Listの代わりに「Page」という型に入れて受け渡すように変更します。また、その形式でデータを取得するため、「Pageable」のDIを追加して、Repositoryへ渡す必要がありますので、次のように修正してください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataController.java（メソッド修正、DI追加、import追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt14" id="ftnt_ref14"
                                                style="user-select: none;">[14]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.domain.Page</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.domain.Pageable</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">RequestMapping</span><span class="c4">(</span><span
                                        class="c0">&quot;&quot;</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c4"> </span><span
                                        class="c5">index</span><span class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Model</span><span class="c4"> model, @</span><span
                                        class="c17">AuthenticationPrincipal</span><span class="c4"> </span><span
                                        class="c11">User</span><span class="c4"> user, </span><span
                                        class="c11 c15">Pageable</span><span class="c4 c15"> pageable</span><span
                                        class="c4">) {</span><sup class="c4"><a href="#ftnt15" id="ftnt_ref15"
                                                style="user-select: none;">[15]</a></sup></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// リストデータ</span><sup class="c19"><a href="#ftnt16" id="ftnt_ref16"
                                                style="user-select: none;">[16]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Page</span><span class="c7">&lt;</span><span
                                        class="c11">BalanceData</span><span class="c7">&gt; balanceDataPager
                                </span><span class="c8 c4">=</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c7">balanceDataService</span><span class="c4">.</span><span
                                        class="c5">getListData</span><span class="c8 c4">(pageable, user, year,
                                        month);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;list&quot;</span><span class="c4">, </span><span
                                        class="c7">balanceDataPager</span><span class="c4">.</span><span
                                        class="c5">getContent</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;pager&quot;</span><span class="c8 c4">,
                                        balanceDataPager);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c0">&quot;balancedata/index&quot;</span><span class="c8 c4">;</span></p>
                        <br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref14" id="ftnt14">[14]</a><span class="c10"> import を追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref15" id="ftnt15">[15]</a><span class="c10"> Pageable を DI</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref16" id="ftnt16">[16]</a><span class="c10"> リストデータ関連を修正</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.l1s12c5ftvr6"><span class="c21 c12">2.</span></h3>
                <p class="c1"><span
                                class="c27 c28">設定ファイルにPageableの設定を追記します。「1ページに20件」「最初のページ番号は0でなく1」という設定となります。「spring:」の次の階層である「datasource:」と同じ階層になりますので注意しましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：application.yml（最後尾に追記）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c7">&nbsp;&nbsp;data</span><span class="c8 c4">:</span></p><br>
                        <p class="c2"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;web</span><span class="c8 c4">:</span>
                        </p><br>
                        <p class="c2"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pageable</span><span
                                        class="c8 c4">:</span></p><br>
                        <p class="c2"><span
                                        class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default-page-size</span><span
                                        class="c4">: </span><span class="c8 c13">20</span></p><br>
                        <p class="c2"><span
                                        class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one-indexed-parameters</span><span
                                        class="c4">: </span><span class="c13">true</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.6u19qgn39s4d"><span class="c21 c12">3.</span></h3>
                <p class="c1"><span class="c27 c28">Serviceでは、戻り値の型とPageableの受け渡しの修正が必要です。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataService.java（メソッド修正、import追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt17" id="ftnt_ref17"
                                                style="user-select: none;">[17]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.domain.Page</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.domain.Pageable</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c19">/**</span><sup
                                        class="c19"><a href="#ftnt18" id="ftnt_ref18"
                                                style="user-select: none;">[18]</a></sup></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ユーザーが所有するデータを年月で絞り込んで取得します。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ソート順は収支発生日付と最終更新日付のそれぞれ降順です。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * DIされたページャによってページング可能とします。</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param pageable
                                        DIされたページャ（設定はapplication.yml参照）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param user
                                        取得対象データの所有者（ログイン中のUserインスタンス）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param year 取得対象年</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param month 取得対象月</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return
                                        PagerでラップされたBalanceDataの検索結果</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11 c15">Page</span><span class="c4">&lt;BalanceData&gt; </span><span
                                        class="c5">getListData</span><span class="c4">(</span><sup class="c4"><a
                                                href="#ftnt19" id="ftnt_ref19" style="user-select: none;">[19]</a></sup>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11 c15">Pageable</span><span class="c4 c15">
                                        pageable</span><span class="c4">, </span><span class="c11">User</span><span
                                        class="c4"> user,
                                </span><span class="c17">int</span><span class="c4"> year, </span><span
                                        class="c17">int</span><span class="c8 c4"> month) {</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> </span><span
                                        class="c7">startDate</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">of</span><span class="c4">(year,
                                        month, </span><span class="c13">1</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> endDate
                                </span><span class="c4">= </span><span class="c7">startDate</span><span
                                        class="c4">.</span><span class="c5">with</span><span class="c4">(</span><span
                                        class="c7">TemporalAdjusters</span><span class="c4">.</span><span
                                        class="c5">lastDayOfMonth</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c8 c7">repository</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span
                                        class="c5">findByUserIdAndOccurredAtBetweenOrderByOccurredAtDescUpdatedAtDesc</span><span
                                        class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4 c15">pageable</span><span class="c4">,
                                </span><span class="c7">user</span><span class="c4">.</span><span
                                        class="c5">getId</span><span class="c4">(), </span><span
                                        class="c7">startDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c4">(), </span><span
                                        class="c7">endDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref17" id="ftnt17">[17]</a><span class="c10"> import を追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref18" id="ftnt18">[18]</a><span class="c10"> コメントも変わってます！</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref19" id="ftnt19">[19]</a><span class="c10"> 強調部を変更</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.hpfle8w77j1j"><span class="c21 c12">4.</span></h3>
                <p class="c1"><span class="c27 c28">Repositoryでも、同様に戻り値の型とPageableの受け渡しの修正が必要です。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataRepository.java（メソッド定義追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt20" id="ftnt_ref20"
                                                style="user-select: none;">[20]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.domain.Page</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.data.domain.Pageable</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c19">/**</span><sup
                                        class="c19"><a href="#ftnt21" id="ftnt_ref21"
                                                style="user-select: none;">[21]</a></sup></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        balance_dataテーブルをuser_idとoccurred_atの範囲で検索します。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ソート順はoccurred_atとupdated_atのそれぞれ降順です。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * &lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        JPAのルールで「findBy～」をinterfaceに定義しておくと&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * 自動的に「～」で検索するメソッドを実装してくれます。</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param pageable ページャ</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param userId user_idの検索値</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param start
                                        occurred_atのbetweenの開始値</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param end
                                        occurred_atのbetweenの終了値</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return
                                        PagerでラップされたBalanceDataの検索結果</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11 c15">Page</span><span class="c4">&lt;BalanceData&gt;</span><sup
                                        class="c4"><a href="#ftnt22" id="ftnt_ref22"
                                                style="user-select: none;">[22]</a></sup></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c5">findByUserIdAndOccurredAtBetweenOrderByOccurredAtDescUpdatedAtDesc</span><span
                                        class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11 c15">Pageable</span><span class="c4 c15">
                                        pageable</span><span class="c4">, </span><span class="c11">Long</span><span
                                        class="c4"> userId,
                                </span><span class="c11">String</span><span class="c4"> start, </span><span
                                        class="c11">String</span><span class="c8 c4"> end);</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref20" id="ftnt20">[20]</a><span class="c10"> import を追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref21" id="ftnt21">[21]</a><span class="c10"> コメントも変わってます！</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref22" id="ftnt22">[22]</a><span class="c10"> 強調部を変更</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.ay9f0yl7k6x"><span class="c21 c12">5.</span></h3>
                <p class="c1"><span
                                class="c27 c28">これで一覧データのページングは準備ができましたが、肝心のページャ（リンクボタン）は自前で用意する必要があります。「src/main/resources」の「templates」の中に「common」フォルダを作成し、「pager.html」を作成して次のコードで置き換えてください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：pager.html（新規HTML）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&lt;!</span><span class="c7">DOCTYPE</span><span class="c4">
                                </span><span class="c13">html</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">html</span><span class="c4">
                                </span><span class="c13">xmlns:th</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;http://www.thymeleaf.org&quot;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">xmlns:layout</span><span class="c4">=</span><span
                                        class="c0">&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;</span><span
                                        class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span class="c13">id</span><span
                                        class="c4">=</span><span class="c0">&quot;pager&quot;</span><span class="c4">
                                </span><span class="c13">layout:fragment</span><span class="c4">=</span><span
                                        class="c0">&quot;pager&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">ul</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;pagination
                                        justify-content-center&quot;</span><span class="c4"> </span><span
                                        class="c13">role</span><span class="c4">=</span><span
                                        class="c0">&quot;navigation&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 前のページへのリンク */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c0">&quot;${pager.first}&quot;</span><span
                                        class="c4"> </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item disabled&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-disabled</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;true&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">aria-label</span><span class="c4">=</span><span
                                        class="c0">&quot;前のページ&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">span</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-link&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-hidden</span><span class="c4">=</span><span
                                        class="c0">&quot;true&quot;</span><span class="c4">&gt;</span><span
                                        class="c13">&amp;lt;</span><span class="c4">&lt;/</span><span
                                        class="c7">span</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c0">&quot;${!pager.first}&quot;</span><span
                                        class="c4"> </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">a</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;page-link&quot;</span><span
                                        class="c4"> </span><span class="c13">th:href</span><span
                                        class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=${pager.number})}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">rel</span><span class="c4">=</span><span
                                        class="c0">&quot;prev&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-label</span><span class="c4">=</span><span
                                        class="c0">&quot;前のページ&quot;</span><span class="c4">&gt;</span><span
                                        class="c13">&amp;lt;</span><span class="c4">&lt;/</span><span
                                        class="c7">a</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 最初のページへのリンク */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c0">&quot;${pager.number}&gt;2&quot;</span><span
                                        class="c4"> </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">a</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;page-link&quot;</span><span
                                        class="c4"> </span><span class="c13">th:href</span><span
                                        class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=1)}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">rel</span><span class="c4">=</span><span
                                        class="c0">&quot;first&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-label</span><span class="c4">=</span><span
                                        class="c0">&quot;最初のページ&quot;</span><span class="c4">&gt;1&lt;/</span><span
                                        class="c7">a</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* ページごとの処理 */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">th:block</span><span class="c4"> </span><span
                                        class="c13">th:each</span><span class="c4">=</span><span class="c0">&quot;i :
                                        ${&#035;numbers.sequence(1, pager.totalPages)}&quot;</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 現在ページの3つ前と3つ後は省略記号「…」 */--&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c8 c0">&quot;((${i}==(${pager.number}-2))
                                        and (${pager.number}&gt;3))</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c8 c0">or ((${i}==(${pager.number}+4)) and</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c8 c0">(${pager.number}&lt;(${pager.totalPages}-4)))&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item disabled&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-disabled</span><span class="c4">=</span><span
                                        class="c0">&quot;true&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">span</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-link&quot;</span><span class="c4">&gt;…&lt;/</span><span
                                        class="c7">span</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 現在ページの前後2つはリンク */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c8 c0">&quot;(${i}&gt;(${pager.number}-2))
                                        and (${i}&lt;(${pager.number}+4))</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c0">and
                                        (${i}!=(${pager.number}+1))&quot;</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">a</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;page-link&quot;</span><span
                                        class="c4"> </span><span class="c13">th:href</span><span
                                        class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=${i})}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;${i}&quot;</span><span class="c4">&gt;&lt;/</span><span
                                        class="c7">a</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 現在ページ */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span
                                        class="c0">&quot;${i}==(${pager.number}+1)&quot;</span><span class="c4">
                                </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;page-item active&quot;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">aria-current</span><span class="c4">=</span><span
                                        class="c0">&quot;page&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">span</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-link&quot;</span><span class="c4"> </span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;${i}&quot;</span><span class="c4">&gt;&lt;/</span><span
                                        class="c7">span</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">th:block</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 最後のページへのリンク */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span
                                        class="c0">&quot;${pager.number}&lt;(${pager.totalPages}-3)&quot;</span><span
                                        class="c4"> </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">a</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c0">&quot;page-link&quot;</span><span
                                        class="c4"> </span><span class="c13">th:href</span><span
                                        class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=${pager.totalPages})}&quot;</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">rel</span><span class="c4">=</span><span
                                        class="c0">&quot;last&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-label</span><span class="c4">=</span><span
                                        class="c0">&quot;最後のページ&quot;</span><span class="c4"> </span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;${pager.totalPages}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">a</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">&lt;!--/* 次のページへのリンク */--&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c0">&quot;${pager.last}&quot;</span><span
                                        class="c4"> </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item disabled&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-disabled</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;true&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">aria-label</span><span class="c4">=</span><span
                                        class="c0">&quot;次のページ&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">span</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-link&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-hidden</span><span class="c4">=</span><span
                                        class="c0">&quot;true&quot;</span><span class="c4">&gt;</span><span
                                        class="c13">&amp;gt;</span><span class="c4">&lt;/</span><span
                                        class="c7">span</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">li</span><span class="c4"> </span><span class="c13">th:if</span><span
                                        class="c4">=</span><span class="c0">&quot;${!pager.last}&quot;</span><span
                                        class="c4"> </span><span class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;page-item&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">a</span><span class="c4"> </span><span class="c13">class</span><span
                                        class="c4">=</span><span class="c8 c0">&quot;page-link&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:href</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=(${pager.number}+2))}&quot;</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">rel</span><span class="c4">=</span><span
                                        class="c0">&quot;next&quot;</span><span class="c4"> </span><span
                                        class="c13">aria-label</span><span class="c4">=</span><span
                                        class="c0">&quot;次のページ&quot;</span><span class="c4">&gt;</span><span
                                        class="c13">&amp;gt;</span><span class="c4">&lt;/</span><span
                                        class="c7">a</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">li</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">ul</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">html</span><span
                                        class="c8 c4">&gt;</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.40ujlc1j2od9"><span class="c21 c12">6.</span></h3>
                <p class="c1"><span class="c27 c28">作成したページャを一覧画面に配置しましょう。cardの先頭で、一覧の前に次のコードを入れましょう。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：list.html（一部追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;card
                                        mt-4&quot;</span><span class="c4"> </span><span
                                        class="c13">layout:fragment</span><span class="c4">=</span><span
                                        class="c0">&quot;card&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-header&quot;</span><span
                                        class="c4">&gt;収支情報一覧&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-body&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4 c15">&lt;</span><span class="c7 c15">div</span><span class="c4 c15">
                                </span><span class="c13 c15">class</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;mb-3&quot;</span><span class="c4 c15"> </span><span
                                        class="c13 c15">th:if</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;${list.size()&gt;0}&quot;</span><span
                                        class="c8 c4 c15">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7 c15">div</span><span class="c4 c15">
                                </span><span class="c13 c15">layout:replace</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;~{common/pager::pager}&quot;</span><span
                                        class="c4 c15">&gt;&lt;/</span><span class="c7 c15">div</span><span
                                        class="c8 c4 c15">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7 c15">div</span><span class="c8 c4 c15">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">table</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c8 c0">&quot;table
                                        table-sm table-bordered
                                        table-hover&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:if</span><span class="c4">=</span><span
                                        class="c0">&quot;${list.size()&gt;0}&quot;</span><span class="c8 c4">&gt;</span>
                        </p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.is2wy2wtdf3o"><span class="c21 c12">7.</span></h3>
                <p class="c1"><span
                                class="c27 c28">ここまでうまくいっていれば、1ページに20件、ページをめくるように1～20数ページを移動できるようになっていると思います。ページを移動するとURLに「?page=2」のようなクエリストリングが付くことを確認しておいてください。また、他のユーザーではきちんと異なるデータが表示されることも確認してください。</span>
                </p>
                <p class="c1"><span class="c27 c28">それが確認できたら、コミットしておきましょう！</span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 572.00px;"><img
                                        alt=""
                                        src="https://lh5.googleusercontent.com/D5ug5DJsHH6b34tFxXU9iqdyd8KMMH5eVGZ_YavL0rBCfBMWBqN7AQBu-161Fm6J12RznSoTGl8wX3YVImhXx-RnYfVQtBG9FkaAvIrx6SbFYprUKhkpREQ-QpHKxl6vSUJPlv_H"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh5.googleusercontent.com/RrGnU72dMLYUODZ4ljVJdf9x4IgDb9E800n03KOm4zD654j7yYcWTYpQDBi0CB2fUTecwq06f-oXwLsYU1mFGk0Sw1VfaXb8AnoRZTc8dY_zN2hr43UQLS8jssGkOeECFL_fqcbw"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h1 class="c9 c38" id="h.qsfzypfjfri3"><span class="c33 c22 c12 c35">7-14 収支状況グラフを表示する</span></h1>
                <p class="c1"><span
                                class="c27 c28">まだ収支情報一覧は、「下にもページャー欲しい」「年月が固定のままだ」「日付や金額の形式が不親切」「変更や削除のボタンが機能しない」・・・など不足しているポイントがいくつもありますが、一旦トップページのグラフを先に作成してしまいましょう。どのようなグラフを作成するのか、7-1-2のUIイメージ図や、7-1-3-&lt;トップページ&gt;-(2)の記載を確認してから進めましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.jlhfgadn49f"><span class="c21 c12">1.</span></h3>
                <p class="c1"><span
                                class="c27 c28">一覧作成の時と同じように、Controller側でデータ取得を指示する部分から作りこんでいきましょう。グラフを表示するのはトップページなので、HomeControllerを次のように修正してください。Serviceからグラフ表示用のデータを受け取り、そのままViewに渡しています。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：HomeController.java（クラスの中身修正）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt23" id="ftnt_ref23"
                                                style="user-select: none;">[23]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.beans.factory.annotation.Autowired</span><span
                                        class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.service.BalanceDataService</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.LocalDate</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Autowired</span><sup class="c17"><a href="#ftnt24" id="ftnt_ref24"
                                                style="user-select: none;">[24]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">BalanceDataService</span><span class="c7">
                                        balanceDataService</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">RequestMapping</span><span class="c4">(</span><span
                                        class="c0">&quot;/home&quot;</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c4"> </span><span
                                        class="c5">index</span><span class="c4">(</span><span
                                        class="c11">Model</span><span class="c4"> model, @</span><span
                                        class="c17">AuthenticationPrincipal</span><span class="c4"> </span><span
                                        class="c11">User</span><span class="c8 c4"> user) {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// ログインユーザー名</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;userName&quot;</span><span class="c4">, </span><span
                                        class="c7">user</span><span class="c4">.</span><span
                                        class="c5">getDisplayname</span><span class="c8 c4">());</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// 表示対象年月</span><sup class="c19"><a href="#ftnt25" id="ftnt_ref25"
                                                style="user-select: none;">[25]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> year </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c4">().</span><span
                                        class="c5">getYear</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> month </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c4">().</span><span
                                        class="c5">getMonthValue</span><span class="c8 c4">();</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// グラフデータ</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;graphData&quot;</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c7">balanceDataService</span><span class="c4">.</span><span
                                        class="c5">getGraphData</span><span class="c8 c4">(user, year, month));</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c0">&quot;home/home&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref23" id="ftnt23">[23]</a><span class="c10"> import を追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref24" id="ftnt24">[24]</a><span class="c10"> Service を DI</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref25" id="ftnt25">[25]</a><span class="c10">
                                        仮で表示対象年月を今月とします。</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.rum8dnbrhru"><span class="c21 c12">2.</span></h3>
                <p class="c1"><span
                                class="c27 c28">続いてServiceにgetGraphDataメソッドなどの追加を行いますが、その前にグラフ用データと、その前段の集計データを格納するためのEntityを作ってしまいましょう。Entityフォルダに「SummaryData.java」と「GraphData.java」を作成し、それぞれ次のコードで置き換えてください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：SummaryData.java（新規Entity）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.entity;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.AllArgsConstructor</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.Getter</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">AllArgsConstructor</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Getter</span></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> SummaryData </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> occurredAt</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> type</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c7"> amount</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c8 c22 c12">サンプルコード：GraphData.java（新規Entity）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.entity;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.AllArgsConstructor</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.Getter</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">AllArgsConstructor</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Getter</span></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> GraphData </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7">[] label</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c7">[] plus</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c7">[] minus</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c7">[] sum</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.7shjbvb1exe8"><span class="c21 c12">3.</span></h3>
                <p class="c1">
                        <span>BalanceDataのEntityにも少し追加を行います。「区分」には「収入」「支出」のいずれかの値が入りますが、どちらであるか判定する場合などには、その文字列と比較するしかありません。</span><span
                                class="c32">インナークラス</span><span
                                class="c27 c28">で定数として定義しておきましょう。フィールド名などを文字列として参照する必要がある場合も同様に定義しましょう。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceData.java（クラス内の先頭にインナークラス追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> BalanceData </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c11"> </span><span
                                        class="c17">static</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11">
                                        Fields </span><span class="c8 c4">{</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">String</span><span class="c7"> USER_ID </span><span
                                        class="c4">= </span><span class="c0">&quot;userId&quot;</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">String</span><span class="c7"> OCCURRED_AT </span><span
                                        class="c4">= </span><span class="c0">&quot;occurredAt&quot;</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">String</span><span class="c7"> TYPE </span><span class="c4">=
                                </span><span class="c0">&quot;type&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">String</span><span class="c7"> AMOUNT </span><span class="c4">=
                                </span><span class="c0">&quot;amount&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c11"> </span><span
                                        class="c17">static</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> Type
                                </span><span class="c8 c4">{</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">String</span><span class="c7"> PLUS </span><span class="c4">=
                                </span><span class="c0">&quot;収入&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">String</span><span class="c7"> MINUS </span><span class="c4">=
                                </span><span class="c0">&quot;支出&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c4">[]
                                </span><span class="c5">getTypeList</span><span class="c4">() {</span><sup class="c4"><a
                                                href="#ftnt26" id="ftnt_ref26" style="user-select: none;">[26]</a></sup>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c17">new</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c4">[] {
                                </span><span class="c7">Type</span><span class="c4">.</span><span
                                        class="c7">PLUS</span><span class="c4">,
                                </span><span class="c7">Type</span><span class="c4">.</span><span
                                        class="c7">MINUS</span><span class="c8 c4"> };</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref26" id="ftnt26">[26]</a><span class="c10">
                                        入力画面で使うプルダウンの中身を配列として取得する際に使用します。</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.2n8r29zgtuee"><span class="c21 c12">4.</span></h3>
                <p class="c1"><span>それではServiceへの機能追加を行います。グラフを表示するためには、DBのデータを日付と区分ごとに集計する必要があり、SQLの「</span><span
                                class="c32">GROUP
                                BY</span><span>」句を使用するのが最適です。しかし、残念ながらJpaRepositoryでのメソッド名によるSQLの自動生成（</span><span
                                class="c24"><a class="c20" href="#h.x6wv2jn4rtwc">7-12-3</a></span><span>）はGROUP
                                BY句に対応していません。代わりにJpaRepositoryが内部で使用している「EntityManager」を直接使用してSQLを組み立てて発行する、「</span><span
                                class="c32">CriteriaQuery</span><span class="c27 c28">」という方式を使用してみましょう。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c27 c28">収入も支出もない日にはDBにデータがありませんので、少しデータを加工する必要があります。</span></p>
                <p class="c1"><span
                                class="c27 c28">まず「getSummaryDataList」でDBから日付と区分ごとに集計したデータをSummaryDataのListとして取得します。それを「getGraphData」でグラフの軸や折れ線に必要な「日付・収入・支出・差引」の4項目に分解しています。この際にデータが無い日付に0を設定することで、グラフで使いやすい形にしています。</span>
                </p>
                <p class="c1 c6"><span class="c8 c16"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜データ加工のイメージ＞</span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh3.googleusercontent.com/KrkRvSn4RbyDIt0Re3HleAYPJXRZJE5k0lpM2o385F3DKkRmzkmY5eRnERvDnbKFjk8Ww9qRpzUg6EznID3bxIiJjgcpDwH-J0ppGqWXbUjjO1hAaJv_aqpQMSBfMNscl71Rm7aC"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：BalanceDataService.java（メソッド追加、DI追加、import追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt27" id="ftnt_ref27"
                                                style="user-select: none;">[27]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.Arrays</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.List</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.EntityManager</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.criteria.CriteriaBuilder</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.criteria.CriteriaQuery</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.criteria.Path</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">javax.persistence.criteria.Root</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.GraphData</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.entity.SummaryData</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        CriteriaQueryを使用するためにEntityManagerをDIします。</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Autowired</span><sup class="c17"><a href="#ftnt28" id="ftnt_ref28"
                                                style="user-select: none;">[28]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">EntityManager</span><span class="c7"> entityManager</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ユーザーが所有するデータを期間で絞り込み、&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        グラフの元データ用に収支発生日付と収支区分ごとに集計して取得します。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ソート順は収支発生日付と収支区分のそれぞれ昇順です。&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * JpaRepositoryのSQL自動生成は「GROUP
                                        BY」に対応していないため、&lt;br&gt;</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        直接EntityManager経由でCriteriaQueryを組み立てて発行します。</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param user
                                        取得対象データの所有者（ログイン中のUserインスタンス）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param startDate 集計対象期間開始日</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param endDate 集計対象期間終了日</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return
                                        集計データ（SummaryData）のList</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">List</span><span class="c4">&lt;SummaryData&gt; </span><span
                                        class="c5">getSummaryDataList</span><span class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">User</span><span class="c4"> user, </span><span
                                        class="c11">LocalDate</span><span class="c4"> startDate, </span><span
                                        class="c11">LocalDate</span><span class="c8 c4"> endDate) {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// EntityManagerの機能でSQLを組み立てる</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">CriteriaBuilder</span><span class="c7"> builder
                                </span><span class="c4">= </span><span class="c7">this</span><span
                                        class="c4">.</span><span class="c7">entityManager</span><span
                                        class="c4">.</span><span class="c5">getCriteriaBuilder</span><span
                                        class="c8 c4">();</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 取得結果はSummaryDataクラスのインスタンスに入れる</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">CriteriaQuery</span><span class="c7">&lt;</span><span
                                        class="c11">SummaryData</span><span class="c7">&gt; query </span><span
                                        class="c4">= </span><span class="c7">builder</span><span
                                        class="c4">.</span><span class="c5">createQuery</span><span
                                        class="c4">(</span><span class="c7">SummaryData</span><span
                                        class="c4">.</span><span class="c7">class</span><span class="c8 c4">);</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// テーブルをRoot、各フィールドをPathという形式で参照する</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Root</span><span class="c7">&lt;</span><span
                                        class="c11">BalanceData</span><span class="c7">&gt; root </span><span
                                        class="c4">= </span><span class="c7">query</span><span class="c4">.</span><span
                                        class="c5">from</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">class</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Path</span><span class="c7">&lt;</span><span
                                        class="c11">Long</span><span class="c7">&gt; userId </span><span class="c4">=
                                </span><span class="c7">root</span><span class="c4">.</span><span
                                        class="c5">get</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">Fields</span><span class="c4">.</span><span
                                        class="c7">USER_ID</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Path</span><span class="c7">&lt;</span><span
                                        class="c11">String</span><span class="c7">&gt; occurredAt </span><span
                                        class="c4">= </span><span class="c7">root</span><span class="c4">.</span><span
                                        class="c5">get</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">Fields</span><span class="c4">.</span><span
                                        class="c7">OCCURRED_AT</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Path</span><span class="c7">&lt;</span><span
                                        class="c11">String</span><span class="c7">&gt; type </span><span class="c4">=
                                </span><span class="c7">root</span><span class="c4">.</span><span
                                        class="c5">get</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">Fields</span><span class="c4">.</span><span
                                        class="c7">TYPE</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Path</span><span class="c7">&lt;</span><span
                                        class="c11">Integer</span><span class="c7">&gt; amount </span><span class="c4">=
                                </span><span class="c7">root</span><span class="c4">.</span><span
                                        class="c5">get</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">Fields</span><span class="c4">.</span><span
                                        class="c7">AMOUNT</span><span class="c8 c4">);</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// SELECT occurred_at, type, sum(amount) as
                                        amount</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">query</span><span class="c4">.</span><span
                                        class="c5">multiselect</span><span class="c8 c4">(occurredAt, type,</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">builder</span><span class="c4">.</span><span
                                        class="c5">sum</span><span class="c4">(amount).</span><span
                                        class="c5">alias</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">Fields</span><span class="c4">.</span><span
                                        class="c7">AMOUNT</span><span class="c8 c4">));</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// WHERE user_id = ?</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// AND occurred_at BETWEEN &#39;?&#39; AND
                                        &#39;?&#39;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">query</span><span class="c4">.</span><span
                                        class="c5">where</span><span class="c4">(</span><span
                                        class="c7">builder</span><span class="c4">.</span><span
                                        class="c5">equal</span><span class="c4">(userId, </span><span
                                        class="c7">user</span><span class="c4">.</span><span
                                        class="c5">getId</span><span class="c8 c4">()),</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">builder</span><span class="c4">.</span><span
                                        class="c5">between</span><span class="c4">(occurredAt, </span><span
                                        class="c7">startDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c4">(), </span><span
                                        class="c7">endDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c8 c4">()));</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// ORDER BY occurred_at, type</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">query</span><span class="c4">.</span><span
                                        class="c5">orderBy</span><span class="c4">(</span><span
                                        class="c7">builder</span><span class="c4">.</span><span
                                        class="c5">asc</span><span class="c4">(occurredAt), </span><span
                                        class="c7">builder</span><span class="c4">.</span><span
                                        class="c5">asc</span><span class="c8 c4">(type));</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// GROUP BY occurred_at ASC, type ASC</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">query</span><span class="c4">.</span><span
                                        class="c5">groupBy</span><span class="c8 c4">(occurredAt, type);</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// SQLの実行結果（List&lt;SummaryData&gt;）を返却</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c7">entityManager</span><span class="c4">.</span><span
                                        class="c5">createQuery</span><span class="c4">(query).</span><span
                                        class="c5">getResultList</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14">/**</span></p>
                        <br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *
                                        ユーザーが所有するデータを年月で絞り込んでグラフ用に加工します。</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; *</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param user
                                        取得対象データの所有者（ログイン中のUserインスタンス）</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param year 取得対象年</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @param month 取得対象月</span></p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; * @return グラフ表示用データ（GraphData）</span>
                        </p><br>
                        <p class="c2"><span class="c14">&nbsp;&nbsp;&nbsp;&nbsp; */</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">GraphData</span><span class="c4"> </span><span
                                        class="c5">getGraphData</span><span class="c4">(</span><span
                                        class="c11">User</span><span class="c4"> user, </span><span
                                        class="c17">int</span><span class="c4"> year, </span><span
                                        class="c17">int</span><span class="c8 c4">
                                        month) {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> </span><span
                                        class="c7">startDate</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">of</span><span class="c4">(year,
                                        month, </span><span class="c13">1</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> endDate
                                </span><span class="c4">= </span><span class="c7">startDate</span><span
                                        class="c4">.</span><span class="c5">with</span><span class="c4">(</span><span
                                        class="c7">TemporalAdjusters</span><span class="c4">.</span><span
                                        class="c5">lastDayOfMonth</span><span class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">List</span><span class="c7">&lt;</span><span
                                        class="c11">SummaryData</span><span class="c7">&gt; </span><span
                                        class="c7">summaryDataList</span><span class="c7"> </span><span
                                        class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c5">getSummaryDataList</span><span class="c8 c4">(user, startDate,
                                        endDate);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> summaryDataListSize
                                </span><span class="c4">= </span><span class="c7">summaryDataList</span><span
                                        class="c4">.</span><span class="c5">size</span><span class="c8 c4">();</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">GraphData</span><span class="c7"> graphData
                                </span><span class="c4">= </span><span class="c13">null</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">if</span><span class="c4"> (</span><span
                                        class="c4">summaryDataListSize</span><span class="c4"> &gt; </span><span
                                        class="c13">0</span><span class="c8 c4">) {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 日付の配列</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> dayCount </span><span class="c4">=
                                        (</span><span class="c17">int</span><span class="c4">) </span><span
                                        class="c7">startDate</span><span class="c4">.</span><span
                                        class="c5">datesUntil</span><span class="c4">(</span><span
                                        class="c7">endDate</span><span class="c4">.</span><span
                                        class="c5">plusDays</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c4">)).</span><span
                                        class="c5">count</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">String</span><span class="c7">[] label
                                </span><span class="c4">= </span><span class="c17">new</span><span class="c4">
                                </span><span class="c11">String</span><span class="c8 c4">[dayCount];</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">int</span><span class="c7"> dayIndex </span><span class="c4">=
                                </span><span class="c13">0</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">for</span><span class="c4"> (</span><span
                                        class="c11">LocalDate</span><span class="c7"> </span><span
                                        class="c7">currentDate</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c4">startDate</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">currentDate</span><span class="c4">.</span><span
                                        class="c5">isBefore</span><span class="c4">(</span><span
                                        class="c7">endDate</span><span class="c4">.</span><span
                                        class="c5">plusDays</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c8 c4">));</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentDate
                                        = </span><span class="c7">currentDate</span><span class="c4">.</span><span
                                        class="c5">plusDays</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label[dayIndex]
                                        = </span><span class="c7">currentDate</span><span class="c4">.</span><span
                                        class="c5">toString</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dayIndex++;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 全日付の収入・支出・差引に0L（Longの0）をセット</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graphData
                                        = </span><span class="c17">new</span><span class="c4">
                                </span><span class="c5">GraphData</span><span class="c8 c4">(label,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">new</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c4">[</span><span
                                        class="c7">label</span><span class="c4">.</span><span
                                        class="c7">length</span><span class="c4">], </span><span
                                        class="c17">new</span><span class="c4"> </span><span
                                        class="c11">Long</span><span class="c4">[</span><span
                                        class="c7">label</span><span class="c4">.</span><span
                                        class="c7">length</span><span class="c4">], </span><span
                                        class="c17">new</span><span class="c4">
                                </span><span class="c11">Long</span><span class="c4">[</span><span
                                        class="c7">label</span><span class="c4">.</span><span
                                        class="c7">length</span><span class="c8 c4">]);</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">Arrays</span><span class="c4">.</span><span
                                        class="c5">fill</span><span class="c4">(</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getPlus</span><span class="c4">(), </span><span
                                        class="c13">0L</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">Arrays</span><span class="c4">.</span><span
                                        class="c5">fill</span><span class="c4">(</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getMinus</span><span class="c4">(), </span><span
                                        class="c13">0L</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">Arrays</span><span class="c4">.</span><span
                                        class="c5">fill</span><span class="c4">(</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getSum</span><span class="c4">(), </span><span
                                        class="c13">0L</span><span class="c8 c4">);</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// 日付ごとにループ</span><sup class="c19"><a href="#ftnt29" id="ftnt_ref29"
                                                style="user-select: none;">[29]</a></sup></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">for</span><span class="c4"> (</span><span
                                        class="c17">int</span><span class="c7"> dateIdx </span><span class="c4">=
                                </span><span class="c13">0</span><span class="c4">, dataIdx = </span><span
                                        class="c13">0</span><span class="c4">;
                                        dateIdx &lt; </span><span class="c7">label</span><span class="c4">.</span><span
                                        class="c7">length</span><span class="c8 c4">; dateIdx++) {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 前日時点の累積合計額をセット</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">if</span><span class="c4"> (dateIdx &gt;
                                </span><span class="c13">0</span><span class="c4">)</span><sup class="c4"><a
                                                href="#ftnt30" id="ftnt_ref30" style="user-select: none;">[30]</a></sup>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getSum</span><span class="c4">()[dateIdx] = </span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getSum</span><span class="c4">()[dateIdx - </span><span
                                        class="c13">1</span><span class="c8 c4">];</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// データごとにループ</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">while</span><span class="c4"> (</span><span
                                        class="c4">dataIdx</span><span class="c4"> &lt; </span><span
                                        class="c4">summaryDataListSize</span><span class="c8 c4">) {</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 日付ループとデータループの日付が同じ間は加算処理を続ける</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// データは日付でソートされていることが前提となっている</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">SummaryData</span><span class="c7">
                                </span><span class="c7">summaryData</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c7">summaryDataList</span><span class="c4">.</span><span
                                        class="c5">get</span><span class="c4">(</span><span
                                        class="c4">dataIdx</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">if</span><span class="c4"> (!</span><span
                                        class="c7">summaryData</span><span class="c4">.</span><span
                                        class="c5">getOccurredAt</span><span class="c4">().</span><span
                                        class="c5">equals</span><span class="c8 c4">(label[dateIdx]))</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">break</span><span class="c4">;</span><sup class="c4"><a
                                                href="#ftnt31" id="ftnt_ref31" style="user-select: none;">[31]</a></sup>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 収入／支出の配列に加算（支出なら金額はマイナスに）</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Long</span><span class="c7"> amount
                                </span><span class="c4">= </span><span class="c7">summaryData</span><span
                                        class="c4">.</span><span class="c5">getAmount</span><span
                                        class="c8 c4">();</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">if</span><span class="c4"> (</span><span
                                        class="c7">summaryData</span><span class="c4">.</span><span
                                        class="c5">getType</span><span class="c4">().</span><span
                                        class="c5">equals</span><span class="c4">(</span><span
                                        class="c7">BalanceData</span><span class="c4">.</span><span
                                        class="c7">Type</span><span class="c4">.</span><span class="c7">PLUS</span><span
                                        class="c8 c4">)) {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getPlus</span><span class="c8 c4">()[dateIdx] += amount;</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
                                </span><span class="c17">else</span><span class="c8 c4"> {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount
                                        *= -</span><span class="c13">1</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getMinus</span><span class="c8 c4">()[dateIdx] += amount;</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// 累積合計額に加算</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">graphData</span><span class="c4">.</span><span
                                        class="c5">getSum</span><span class="c8 c4">()[dateIdx] += amount;</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataIdx++;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
                        </p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
                        <br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c8 c4"> graphData;</span>
                        </p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref27" id="ftnt27">[27]</a><span class="c10"> import を追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref28" id="ftnt28">[28]</a><span class="c10"> DI を追加</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref29" id="ftnt29">[29]</a><span class="c10">
                                        dateIdxとdataIdexの2つの変数を同時に初期化しています！</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref30" id="ftnt30">[30]</a><span class="c10"> 1行のif文に注意！</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref31" id="ftnt31">[31]</a><span class="c10">
                                        1行のif文に注意！while文はbreak;で抜けられます！</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.jnt6irbi3ct7"><span class="c21 c12">5.</span></h3>
                <p class="c1"><span>グラフの表示は「</span><span class="c32">Chart.js</span><span
                                class="c27 c28">」というjavascriptのライブラリを使用します。Chart.js自体の使用方法はここでは詳細に解説しませんが、「new
                                Chart(～)」によって「canvas」タグにグラフを表示させ、そのデータは「data」にgraphDataの配列を渡している、というところだけ抑えておきましょう。「options」の中では、金額を表示している部分について、toLocalString()で「3桁ごとにカンマを入れる」ように表示形式を変換しています。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：graph.html（新規HTML）</span></p>
                <p class="c1 c6"><span class="c8 c22 c12"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&lt;!</span><span class="c7">DOCTYPE</span><span class="c4">
                                </span><span class="c13">html</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">html</span><span class="c4">
                                </span><span class="c13">xmlns:th</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;http://www.thymeleaf.org&quot;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">xmlns:layout</span><span class="c4">=</span><span
                                        class="c0">&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;</span><span
                                        class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;card
                                        mt-4&quot;</span><span class="c4"> </span><span
                                        class="c13">layout:fragment</span><span class="c4">=</span><span
                                        class="c0">&quot;card&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-header&quot;</span><span
                                        class="c4">&gt;収支状況グラフ&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-body&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4 c15">&lt;</span><span class="c7 c15">canvas</span><span
                                        class="c4 c15"> </span><span class="c13 c15">id</span><span
                                        class="c4 c15">=</span><span class="c0 c15">&quot;ChartDemo&quot;</span><span
                                        class="c4 c15">
                                </span><span class="c13 c15">th:if</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;${graphData!=null}&quot;</span><span
                                        class="c4 c15">&gt;&lt;/</span><span class="c7 c15">canvas</span><span
                                        class="c8 c4 c15">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">script</span><span class="c4"> </span><span
                                        class="c13">type</span><span class="c4">=</span><span
                                        class="c0">&quot;text/javascript&quot;</span><span class="c4"> </span><span
                                        class="c13">th:inline</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;javascript&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:if</span><span class="c4">=</span><span
                                        class="c0">&quot;${graphData}!=null&quot;</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">/*&lt;![CDATA[*/</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">const</span><span class="c4 c15">
                                </span><span class="c5 c15">toLocalString</span><span class="c4 c15"> </span><span
                                        class="c23 c15">=</span><span class="c4 c15"> amount </span><span
                                        class="c3 c15">=&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amount.</span><span
                                        class="c5 c15">toString</span><span class="c4 c15">().</span><span
                                        class="c5 c15">replace</span><span class="c4 c15">(</span><span
                                        class="c23 c15">/</span><span class="c17 c15">\B</span><span
                                        class="c23 c15">(?=(</span><span class="c13 c15">\d</span><span
                                        class="c23 c15">{3})+(?!</span><span class="c13 c15">\d</span><span
                                        class="c23 c15">))/</span><span class="c17 c15">g</span><span class="c4 c15">,
                                </span><span class="c0 c15">&#39;,&#39;</span><span class="c4 c15">);</span><sup
                                        class="c4"><a href="#ftnt32" id="ftnt_ref32"
                                                style="user-select: none;">[32]</a></sup></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">new</span><span class="c4 c15"> </span><span
                                        class="c11 c15">Chart</span><span class="c4 c15">(document.</span><span
                                        class="c5 c15">getElementById</span><span class="c4 c15">(</span><span
                                        class="c0 c15">&#39;ChartDemo&#39;</span><span class="c8 c4 c15">), {</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">type </span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c0">&#39;bar&#39;</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">data </span><span class="c23">:</span><span class="c8 c4"> {</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">labels </span><span class="c23 c15">:</span><span class="c4 c15">
                                </span><span class="c19 c15">/*[[ ${graphData.getLabel()}
                                        ]]*/</span><span class="c8 c4 c15">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">datasets </span><span class="c23">:</span><span class="c8 c4">
                                        [{</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">label </span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c0">&#39;収入&#39;</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">data </span><span class="c23 c15">:</span><span class="c4 c15">
                                </span><span class="c19 c15">/*[[ ${</span><span class="c19 c15">graphData</span><span
                                        class="c19 c15">.</span><span class="c19 c15">getPlus</span><span
                                        class="c15 c19">()} ]]*/</span><span class="c8 c4 c15">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">borderColor </span><span class="c23">:</span><span class="c4">
                                </span><span class="c0">&#39;rgb(75, 190, 180)&#39;</span><span class="c8 c4">,</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">backgroundColor </span><span class="c23">:</span><span class="c4">
                                </span><span class="c8 c0">&#39;rgba(75, 190, 180,
                                        0.5)&#39;</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">label </span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c0">&#39;支出&#39;</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">data </span><span class="c23 c15">:</span><span class="c4 c15">
                                </span><span class="c19 c15">/*[[ ${graphData.getMinus()}
                                        ]]*/</span><span class="c8 c4 c15">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">borderColor </span><span class="c23">:</span><span class="c4">
                                </span><span class="c0">&#39;rgb(239, 117, 82)&#39;</span><span class="c8 c4">,</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">backgroundColor </span><span class="c23">:</span><span class="c4">
                                </span><span class="c8 c0">&#39;rgba(239, 117, 82,
                                        0.5)&#39;</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">label </span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c0">&#39;差引&#39;</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">data </span><span class="c23 c15">:</span><span class="c4 c15">
                                </span><span class="c19 c15">/*[[ ${graphData.getSum()}
                                        ]]*/</span><span class="c8 c4 c15">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">type </span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c0">&#39;line&#39;</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">fill </span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c13">false</span><span class="c8 c4">,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">borderColor </span><span class="c23">:</span><span class="c4">
                                </span><span class="c0">&#39;rgb(254, 155, 0)&#39;</span><span class="c8 c4">,</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">backgroundColor </span><span class="c23">:</span><span class="c4">
                                </span><span class="c8 c0">&#39;rgba(254, 155, 0, 0.5)&#39;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}]</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">options</span><span class="c23">:</span><span class="c8 c4"> {</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">scales</span><span class="c23">:</span><span class="c8 c4"> {</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">yAxes</span><span class="c23">:</span><span class="c8 c4"> [{</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">ticks</span><span class="c23">:</span><span class="c8 c4"> {</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c5">callback</span><span class="c23">:</span><span class="c4">
                                </span><span class="c17">function</span><span class="c8 c4">(label, index, labels)
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4">
                                </span><span class="c5">toLocalString</span><span class="c8 c4">(label);</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}}
                                        }] },</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">tooltips</span><span class="c23">:</span><span class="c8 c4">
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">callbacks</span><span class="c23">:</span><span class="c8 c4">
                                        {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c5">label</span><span class="c23">:</span><span class="c4"> </span><span
                                        class="c17">function</span><span class="c8 c4">
                                        (tooltipItem, data) {</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4">
                                        data.</span><span class="c7">datasets</span><span
                                        class="c4">[tooltipItem.</span><span class="c11">datasetIndex</span><span
                                        class="c4">].</span><span class="c8 c7">label</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c23">+</span><span class="c4">
                                </span><span class="c0">&#39;: &#39;</span><span class="c4"> </span><span
                                        class="c23">+</span><span class="c4"> </span><span
                                        class="c5">toLocalString</span><span class="c4">(tooltipItem.</span><span
                                        class="c7">yLabel</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}}}</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">/*]]&gt;*/</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">script</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;alert
                                        alert-info
                                        mt-3&quot;</span><span class="c4"> </span><span class="c13">role</span><span
                                        class="c4">=</span><span class="c0">&quot;alert&quot;</span><span class="c4">
                                </span><span class="c13">th:if</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;${graphData==null}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;#{balancedata.nodata}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">html</span><span
                                        class="c8 c4">&gt;</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref32" id="ftnt32">[32]</a><span class="c10">
                                        「toLocalString」として正規表現で引数の金額に3桁ごとのカンマを入れるjavascript関数を定義</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.4nutcdh68718"><span class="c21 c12">6.</span></h3>
                <p class="c1"><span
                                class="c27 c28">作成したgraph.htmlをhome.htmlへ配置しましょう。また、併せて「chart.js」を読み込むscriptタグを追加しましょう。なお、layout.htmlではheadタグの中に定義された情報がマージされますので、ここで追加したscriptタグがlayout.htmlのheadの最後に追加されます。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span
                                class="c27 c28">これで無事グラフが表示されるはずです。テストデータの投入件数を変更したりしながら、表示内容をいろいろ確認してみましょう。コミットしておくことも忘れずに！</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：home.html（赤枠部分追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&lt;!</span><span class="c7">DOCTYPE</span><span class="c4">
                                </span><span class="c13">html</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">html</span><span class="c4">
                                </span><span class="c13">xmlns:th</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;http://www.thymeleaf.org&quot;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">xmlns:layout</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;</span></p>
                        <br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">layout:decorate</span><span class="c4">=</span><span
                                        class="c0">&quot;~{layout/layout}&quot;</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">head</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">title</span><span
                                        class="c4">&gt;トップページ&lt;/</span><span class="c7">title</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4 c15">&lt;</span><span class="c7 c15">script</span><span
                                        class="c4 c15">
                                </span><span class="c13 c15">src</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;https://cdn.jsdelivr.net/npm/chart.js@2.8.0&quot;</span><span
                                        class="c4 c15">&gt;&lt;/</span><span class="c7 c15">script</span><span
                                        class="c4 c15">&gt;</span><sup class="c4"><a href="#ftnt33" id="ftnt_ref33"
                                                style="user-select: none;">[33]</a></sup></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">head</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;container&quot;</span><span class="c4"> </span><span
                                        class="c13">layout:fragment</span><span class="c4">=</span><span
                                        class="c0">&quot;content&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;row
                                        justify-content-center&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c0">&quot;col-12
                                        col-sm-12 col-md-12
                                        col-lg-12 col-xl-12&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-header&quot;</span><span
                                        class="c4">&gt;メニュー&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-body&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">span</span><span class="c4"> </span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;${userName}&quot;</span><span class="c4">&gt;&lt;/</span><span
                                        class="c7">span</span><span class="c4">&gt;さん、こんにちは！&lt;</span><span
                                        class="c7">br</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">a</span><span class="c4"> </span><span
                                        class="c13">th:href</span><span class="c4">=</span><span
                                        class="c0">&quot;@{/balancedata}&quot;</span><span
                                        class="c4">&gt;収支情報編集画面を開く&lt;/</span><span class="c7">a</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4 c15">&lt;</span><span class="c7 c15">div</span><span class="c4 c15">
                                </span><span class="c13 c15">layout:replace</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;~{</span><span class="c0 c15">balancedata</span><span
                                        class="c0 c15">/graph::card}&quot;</span><span
                                        class="c4 c15">&gt;&lt;/</span><span class="c7 c15">div</span><span
                                        class="c8 c4 c15">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">html</span><span
                                        class="c8 c4">&gt;</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref33" id="ftnt33">[33]</a><span class="c30"> 「</span><span
                                        class="c32 c30">CDN＝コンテントデリバリネットワーク</span><span
                                        class="c10">」から「Chart」が定義されたjavascriptファイルをダウンロードするようにしています。</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c8 c16"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜ここまでの表示結果＞</span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh3.googleusercontent.com/H5qe0ChkJn7jvaJBIvvegnlzW71pF8Gh8Myl-a8XNatCf-ss3sEM6EWlI4KFCH6DrED0VoGgKczufZa3WWQwgh7bTmQVXDBgxp-vfuclEfxiMbaLDhjvN5KXCLvbeONI5yZPlELI"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h1 class="c38 c9" id="h.x3jb2h7ssox3"><span class="c33 c22 c12 c35">7-15 一覧とグラフの年月選択プルダウンを追加する</span>
                </h1>
                <p class="c1"><span
                                class="c27 c28">ここまでで、収支情報を一覧とグラフにより可視化することができました。今は特定の年月しか表示できませんので、年月を選択可能としたいと思います。仕様は7-1を再度確認してください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.vbotp397jb7z"><span class="c21 c12">1.</span></h3>
                <p class="c1"><span
                                class="c27 c28">この機能では、ブラウザとサーバーの間で「ym=201910」というパラメータをやり取りすることによって、一覧やグラフの元になるデータの絞り込み範囲を変えています。このパラメータに関する処理を専門に行うServiceを作成しましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜ポイント＞</span></p><a
                        id="t.810187c6c1f7714bdbef14460a4e9e6fe0f22bf9"></a><a id="t.6"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c8 c22 c12">(1)</span></p>
                                                <p class="c1"><span>「</span><span
                                                                class="c29">setParam()</span><span>」では、「</span><span
                                                                class="c29">Optional&lt;String&gt;</span><span
                                                                class="c27 c28">」型のまま、Controllerからパラメータを受け取ります。</span>
                                                </p>
                                                <p class="c1"><span>「</span><span
                                                                class="c29">isPresent()</span><span>」によってパラメータが送られてきたかどうか判定し、送られてきていなければ空文字で「</span><span
                                                                class="c29">YearMonth</span><span>」というクラスの「</span><span
                                                                class="c29">parse()</span><span
                                                                class="c27 c28">」メソッドで日付オブジェクトへ変換します。空文字や不正な形式の場合には、エラーをcatchして現在の日付オブジェクトをセットします。そしてその情報を元にクラスプロパティの「year」「month」や、パラメータと同形式の「ym」を保持するようにしています。</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(2)</span></p>
                                                <p class="c1"><span>「</span><span
                                                                class="c29">getSelectOptions()</span><span>」では、年月選択プルダウンの中身となるOptionタグで使用する、valueとtextを「SelectOption」というインナークラスに格納し、それを</span><span
                                                                class="c32">「LinkedHashMap」という順番が保証される「HashMap」</span><span>（使い方は</span><span
                                                                class="c24"><a class="c20"
                                                                        href="#h.wrhxso6umogk">章末</a></span><span
                                                                class="c27 c28">を参照）に入れています。後ほどブラウザでプルダウンを表示すると確認できますが、putの際にkeyとして渡している文字列をプルダウン項目のグルーピングに使用しています。</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(3)</span></p>
                                                <p class="c1"><span>「</span><span
                                                                class="c29">DateTimeFormatter</span><span>」クラスの「</span><span
                                                                class="c29">ofPattern()</span><span>」は、文字列と日付オブジェクトを相互に変換する際にどの形式を用いるかを指定することができます。「</span><span
                                                                class="c29">&quot;</span><span
                                                                class="c29">uuuuMM</span><span
                                                                class="c29">&quot;</span><span
                                                                class="c27 c28">」は「西暦年4桁、月2桁」を示します。</span></p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(4)</span></p>
                                                <p class="c1">
                                                        <span>「Lombokによるアノテーション」「インスタンスイニシャライザ」「StreamAPI」などの構文を使用しています。より詳しく知りたい方は、これらのキーワードで検索してみましょう。</span>
                                                </p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c8 c22 c12"></span></p>
                <p class="c2"><span class="c8 c22 c12">サンプルコード：YmParameterService.java（新規作成）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c17">package</span><span class="c8 c4">
                                        net.digskill.myapp.service;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.LocalDate</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.Period</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.YearMonth</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.format.DateTimeFormatter</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.format.DateTimeParseException</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.format.ResolverStyle</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.time.temporal.TemporalAdjusters</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.Arrays</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.LinkedHashMap</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.List</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.Optional</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.stream.Collectors</span><span class="c8 c4">;</span></p>
                        <br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">java.util.stream.Stream</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">org.springframework.stereotype.Service</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.AllArgsConstructor</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">lombok.Getter</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Service</span></p><br>
                        <p class="c2"><span class="c4">@</span><span class="c3">Getter</span></p><br>
                        <p class="c2"><span class="c17">public</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> </span><span
                                        class="c11">YmParameterService</span><span class="c11"> </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">DateTimeFormatter</span><span class="c7"> FORMAT_PARAM
                                </span><span class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">DateTimeFormatter</span><span class="c4">.</span><span
                                        class="c5">ofPattern</span><span class="c4">(</span><span
                                        class="c0">&quot;uuuuMM&quot;</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c17">static</span><span class="c4"> </span><span
                                        class="c17">final</span><span class="c4">
                                </span><span class="c11">DateTimeFormatter</span><span class="c7"> FORMAT_DISP
                                </span><span class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">DateTimeFormatter</span><span class="c4">.</span><span
                                        class="c5">ofPattern</span><span class="c4">(</span><span
                                        class="c0">&quot;uuuu年MM月&quot;</span><span class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> ym</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c7"> year</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c17">int</span><span class="c7"> month</span><span class="c8 c4">;</span>
                        </p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c17">void</span><span class="c4"> </span><span
                                        class="c5">setParam</span><span class="c4">(</span><span
                                        class="c11">Optional</span><span class="c4">&lt;</span><span
                                        class="c11">String</span><span class="c8 c4">&gt; ym) {</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span class="c7">ym</span><span
                                        class="c4"> = </span><span class="c7">ym</span><span class="c4">.</span><span
                                        class="c5">isPresent</span><span class="c4">() </span><span
                                        class="c17">?</span><span class="c4">
                                </span><span class="c7">ym</span><span class="c4">.</span><span
                                        class="c5">get</span><span class="c4">()
                                </span><span class="c17">:</span><span class="c4"> </span><span
                                        class="c0">&quot;&quot;</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">YearMonth</span><span class="c7"> date </span><span class="c4">=
                                </span><span class="c13">null</span><span class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17 c15">try</span><span class="c4"> {</span><sup class="c4"><a
                                                href="#ftnt34" id="ftnt_ref34" style="user-select: none;">[34]</a></sup>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date
                                        = </span><span class="c7">YearMonth</span><span class="c4">.</span><span
                                        class="c5">parse</span><span class="c4">(</span><span
                                        class="c7">this</span><span class="c4">.</span><span class="c7">ym</span><span
                                        class="c8 c4">,</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">FORMAT_PARAM</span><span class="c4">.</span><span
                                        class="c5">withResolverStyle</span><span class="c4">(</span><span
                                        class="c7">ResolverStyle</span><span class="c4">.</span><span
                                        class="c7">STRICT</span><span class="c8 c4">));</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} </span><span
                                        class="c17 c15">catch</span><span class="c4"> (</span><span
                                        class="c11">DateTimeParseException</span><span class="c8 c4"> e) {</span></p>
                        <br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date
                                        = </span><span class="c7">YearMonth</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
                        <br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span class="c7">ym</span><span
                                        class="c4"> = </span><span class="c7">date</span><span class="c4">.</span><span
                                        class="c5">format</span><span class="c8 c4">(FORMAT_PARAM);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span class="c7">year</span><span
                                        class="c4"> = </span><span class="c7">date</span><span class="c4">.</span><span
                                        class="c5">getYear</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c7">month</span><span class="c4"> = </span><span
                                        class="c7">date</span><span class="c4">.</span><span
                                        class="c5">getMonthValue</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c3">AllArgsConstructor</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="c3">Getter</span>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c11"> </span><span
                                        class="c17">class</span><span class="c11"> SelectOption </span><span
                                        class="c8 c4">{</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> value</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c7"> text</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">SelectOption</span><span class="c4"> </span><span
                                        class="c5">getOptionData</span><span class="c4">(</span><span
                                        class="c11">LocalDate</span><span class="c8 c4"> date) {</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c17">new</span><span class="c4"> </span><span
                                        class="c5">SelectOption</span><span class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">date</span><span class="c4">.</span><span
                                        class="c5">format</span><span class="c8 c4">(FORMAT_PARAM),</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">date</span><span class="c4">.</span><span
                                        class="c5">format</span><span class="c8 c4">(FORMAT_DISP));</span></p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2 c6"><span class="c4 c8"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">LinkedHashMap</span><span class="c4">&lt;</span><span
                                        class="c11">String</span><span class="c4">, </span><span
                                        class="c11">List</span><span class="c4">&lt;</span><span
                                        class="c11">SelectOption</span><span class="c4">&gt;&gt; </span><span
                                        class="c5">getSelectOptions</span><span class="c8 c4">() {</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> </span><span
                                        class="c7">currentMonth</span><span class="c7"> </span><span class="c4">=
                                </span><span class="c7">LocalDate</span><span class="c4">.</span><span
                                        class="c5">now</span><span class="c8 c4">();</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> baseMonth
                                </span><span class="c4">= </span><span class="c7">LocalDate</span><span
                                        class="c4">.</span><span class="c5">of</span><span class="c4">(</span><span
                                        class="c7">this</span><span class="c4">.</span><span class="c7">year</span><span
                                        class="c4">, </span><span class="c7">this</span><span class="c4">.</span><span
                                        class="c7">month</span><span class="c4">, </span><span class="c13">1</span><span
                                        class="c8 c4">);</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> startMonth
                                </span><span class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">currentMonth</span><span class="c4">.</span><span
                                        class="c5">minusYears</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c4">).</span><span class="c5">with</span><span
                                        class="c4">(</span><span class="c7">TemporalAdjusters</span><span
                                        class="c4">.</span><span class="c5">firstDayOfYear</span><span
                                        class="c8 c4">());</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">LocalDate</span><span class="c7"> endMonth
                                </span><span class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">currentMonth</span><span class="c4">.</span><span
                                        class="c5">plusYears</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c4">).</span><span class="c5">with</span><span
                                        class="c4">(</span><span class="c7">TemporalAdjusters</span><span
                                        class="c4">.</span><span class="c5">lastDayOfYear</span><span
                                        class="c8 c4">());</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">Stream</span><span class="c7">&lt;</span><span
                                        class="c11">LocalDate</span><span class="c7">&gt; period </span><span
                                        class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">startMonth</span><span class="c4">.</span><span
                                        class="c5">datesUntil</span><span class="c4">(</span><span
                                        class="c7">endMonth</span><span class="c4">.</span><span
                                        class="c5">plusDays</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c4">), </span><span
                                        class="c7">Period</span><span class="c4">.</span><span
                                        class="c5">ofMonths</span><span class="c4">(</span><span
                                        class="c13">1</span><span class="c8 c4">));</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c11">List</span><span class="c7">&lt;</span><span
                                        class="c11">SelectOption</span><span class="c7">&gt; options </span><span
                                        class="c8 c4">=</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">period</span><span class="c4">.</span><span
                                        class="c5">map</span><span class="c4">(date </span><span
                                        class="c11">-&gt;</span><span class="c4">
                                </span><span class="c5">getOptionData</span><span class="c4">(date)).</span><span
                                        class="c5">collect</span><span class="c4">(</span><span
                                        class="c7">Collectors</span><span class="c4">.</span><span
                                        class="c5">toList</span><span class="c8 c4">());</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">return</span><span class="c4"> </span><span
                                        class="c17">new</span><span class="c4"> </span><span
                                        class="c11">LinkedHashMap</span><span class="c4">&lt;</span><span
                                        class="c11">String</span><span class="c4">, </span><span
                                        class="c11">List</span><span class="c4">&lt;</span><span
                                        class="c11">SelectOption</span><span class="c8 c4">&gt;&gt;()
                                        {{</span></p><br><p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">put</span><span class="c4">(</span><span class="c0">&quot;表示年月&quot;</span><span class="c4">, </span><span class="c7">Arrays</span><span class="c4">.</span><span class="c5">asList</span><span class="c4">(</span><span class="c5">getOptionData</span><span class="c8 c4">(baseMonth)));</span></p><br><p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">put</span><span class="c4">(</span><span class="c0">&quot;前月&quot;</span><span class="c4">, </span><span class="c7">Arrays</span><span class="c4">.</span><span class="c5">asList</span><span class="c4">(</span><span class="c5">getOptionData</span><span class="c4">(</span><span class="c7">baseMonth</span><span class="c4">.</span><span class="c5">minusMonths</span><span class="c4">(</span><span class="c13">1</span><span class="c8 c4">))));</span></p><br><p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">put</span><span class="c4">(</span><span class="c0">&quot;次月&quot;</span><span class="c4">, </span><span class="c7">Arrays</span><span class="c4">.</span><span class="c5">asList</span><span class="c4">(</span><span class="c5">getOptionData</span><span class="c4">(</span><span class="c7">baseMonth</span><span class="c4">.</span><span class="c5">plusMonths</span><span class="c4">(</span><span class="c13">1</span><span class="c8 c4">))));</span></p><br><p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">put</span><span class="c4">(</span><span class="c0">&quot;今月&quot;</span><span class="c4">, </span><span class="c7">Arrays</span><span class="c4">.</span><span class="c5">asList</span><span class="c4">(</span><span class="c5">getOptionData</span><span class="c8 c4">(currentMonth)));</span></p><br><p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">put</span><span class="c4">(</span><span class="c0">&quot;年月指定&quot;</span><span class="c8 c4">, options);</span></p><br><p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}};</span>
                        </p><br>
                        <p class="c2"><span class="c8 c4">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><br>
                        <p class="c2"><span class="c8 c4">}</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref34" id="ftnt34">[34]</a><span class="c30"> </span><span
                                        class="c32 c30 c36">try-catch構文</span></p>
                        <div class="code_block">
                                <p class="c2"><span class="c33 c4 c30">try {</span></p><br>
                                <p class="c2"><span class="c33 c4 c30">&nbsp;&nbsp;&nbsp;&nbsp;エラーが発生しうる処理;</span></p>
                                <br>
                                <p class="c2"><span class="c33 c4 c30">} catch(エラーの種類 e) {</span></p><br>
                                <p class="c2"><span class="c33 c4 c30">&nbsp;&nbsp;&nbsp;&nbsp;エラーの種類に応じた処理;</span></p>
                                <br>
                                <p class="c2"><span class="c33 c4 c30">}</span></p><br>
                        </div>
                        <p class="c18 c6"><span class="c33 c4 c30"></span></p>
                        <p class="c18"><span
                                        class="c33 c30">実行時にエラーが発生する可能性のある処理は、try-catchによって、エラーが発生した際の処理を実装する必要があります。</span>
                        </p>
                        <p class="c18"><span class="c33 c30">YearMonth.parse()
                                        は、「引数が空文字」または「ユーザーによる不正なパラメータの送信」時に、変換が処理できず、「DateTimeParseException」をスローします。</span>
                        </p>
                        <p class="c18"><span
                                        class="c33 c30">（parse()をクリックすると、発生しうるエラーの概要を見ることができます。）tryの処理でエラーが発生した場合、その処理を中断し、catchに実装された処理が実行されます。</span>
                        </p>
                        <p class="c18 c6"><span class="c30 c33"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.yzt0rtpp6ndh"><span class="c12 c21">2.</span></h3>
                <p class="c1"><span
                                class="c27 c28">作成したYmParameterServiceをControllerでDIし、パラメータを処理できるように修正しましょう。まずはトップページのグラフについて実装を進めましょう。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：HomeController.java（一部変更）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c17"><a href="#ftnt35" id="ftnt_ref35"
                                                style="user-select: none;">[35]</a></sup></p><br>
                        <p class="c2"><span class="c17">import</span><span class="c4"> </span><span
                                        class="c11">net.digskill.myapp.service.YmParameterService</span><span
                                        class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">Autowired</span><sup class="c17"><a href="#ftnt36" id="ftnt_ref36"
                                                style="user-select: none;">[36]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">private</span><span class="c4"> </span><span
                                        class="c11">YmParameterService</span><span class="c7"> </span><span
                                        class="c7">ymparam</span><span class="c8 c4">;</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span
                                        class="c17">RequestMapping</span><span class="c4">(</span><span
                                        class="c0">&quot;/home&quot;</span><span class="c8 c4">)</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c17">public</span><span class="c4"> </span><span
                                        class="c11">String</span><span class="c4"> </span><span
                                        class="c5">index</span><span class="c4">(</span><span
                                        class="c11">Model</span><span class="c4"> model, @</span><span
                                        class="c17">AuthenticationPrincipal</span><span class="c4"> </span><span
                                        class="c11">User</span><span class="c8 c4"> user,</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4 c15">@</span><span class="c17 c15">RequestParam</span><span
                                        class="c4 c15"> </span><span class="c11 c15">Optional</span><span
                                        class="c4 c15">&lt;String&gt; ym)</span><span class="c4">
                                        {</span><sup class="c4"><a href="#ftnt37" id="ftnt_ref37"
                                                style="user-select: none;">[37]</a></sup></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c8 c4">（省略）</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c19">// 表示対象年月</span><sup class="c19"><a href="#ftnt38" id="ftnt_ref38"
                                                style="user-select: none;">[38]</a></sup></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">this</span><span class="c4 c15">.</span><span
                                        class="c7 c15">ymparam</span><span class="c4 c15">.</span><span
                                        class="c5 c15">setParam</span><span class="c8 c4 c15">(ym);</span></p><br>
                        <p class="c2"><span class="c4 c15">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">model</span><span class="c4 c15">.</span><span
                                        class="c5 c15">addAttribute</span><span class="c4 c15">(</span><span
                                        class="c0 c15">&quot;ym&quot;</span><span class="c4 c15">, </span><span
                                        class="c7 c15">ymparam</span><span class="c4 c15">.</span><span
                                        class="c5 c15">getYm</span><span class="c8 c4 c15">());</span></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// プルダウンの中身</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7 c15">model</span><span class="c4 c15">.</span><span
                                        class="c5 c15">addAttribute</span><span class="c4 c15">(</span><span
                                        class="c0 c15">&quot;ymselect&quot;</span><span class="c4 c15">, </span><span
                                        class="c7 c15">ymparam</span><span class="c4 c15">.</span><span
                                        class="c5 c15">getSelectOptions</span><span class="c4 c15">());</span><sup
                                        class="c4"><a href="#ftnt39" id="ftnt_ref39"
                                                style="user-select: none;">[39]</a></sup></p><br>
                        <p class="c2 c6"><span class="c8 c4"></span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c14">// グラフデータ</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c7">model</span><span class="c4">.</span><span
                                        class="c5">addAttribute</span><span class="c4">(</span><span
                                        class="c0">&quot;graphData&quot;</span><span class="c4">, </span><span
                                        class="c7">this</span><span class="c4">.</span><span
                                        class="c7">balanceDataService</span><span class="c4">.</span><span
                                        class="c5">getGraphData</span><span class="c8 c4">(</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user,
                                </span><span class="c7 c15">this</span><span class="c4 c15">.</span><span
                                        class="c7 c15">ymparam</span><span class="c4 c15">.</span><span
                                        class="c5 c15">getYear</span><span class="c4 c15">(), </span><span
                                        class="c7 c15">this</span><span class="c4 c15">.</span><span
                                        class="c7 c15">ymparam</span><span class="c4 c15">.</span><span
                                        class="c5 c15">getMonth</span><span class="c4 c15">()</span><span
                                        class="c8 c4">));</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref35" id="ftnt35">[35]</a><span class="c10"> import 追加</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref36" id="ftnt36">[36]</a><span class="c10"> DI 追加</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref37" id="ftnt37">[37]</a><span class="c10"> ym パラメータ追加</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref38" id="ftnt38">[38]</a><span class="c10"> 仮の年月生成を置き換え</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref39" id="ftnt39">[39]</a><span class="c10"> 追加</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.l6mg45o4tvo1"><span class="c21 c12">3.</span></h3>
                <p class="c1"><span
                                class="c27 c28">Viewでプルダウンを生成する為のパーツ「ymselect.html」を「templates/common」の中に作成しましょう。</span>
                </p>
                <p class="c1"><span
                                class="c27 c28">プルダウン変更時にGETで画面を再表示させるために使うformや、最新情報を再読込させる為のボタンも一緒に組み込んでいます。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：ymselect.html（新規HTML）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&lt;!</span><span class="c7">DOCTYPE</span><span class="c4">
                                </span><span class="c13">html</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">html</span><span class="c4">
                                </span><span class="c13">xmlns:th</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;http://www.thymeleaf.org&quot;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">xmlns:layout</span><span class="c4">=</span><span
                                        class="c0">&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;</span><span
                                        class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span class="c4">&lt;</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">form</span><span class="c4"> </span><span
                                        class="c13">method</span><span class="c4">=</span><span
                                        class="c0">&quot;GET&quot;</span><span class="c4"> </span><span
                                        class="c13">action</span><span class="c4">=</span><span
                                        class="c0">&quot;&quot;</span><span class="c4"> </span><span
                                        class="c13">layout:fragment</span><span class="c4">=</span><span
                                        class="c0">&quot;form&quot;</span><span class="c4">&gt;</span><sup class="c4"><a
                                                href="#ftnt40" id="ftnt_ref40" style="user-select: none;">[40]</a></sup>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;input-group&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;input-group-prepend&quot;</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">span</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;input-group-text&quot;</span><span
                                        class="c4">&gt;年月&lt;/</span><span class="c7">span</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">select</span><span class="c4"> </span><span
                                        class="c13">id</span><span class="c4">=</span><span
                                        class="c0">&quot;ym&quot;</span><span class="c4">
                                </span><span class="c13">name</span><span class="c4">=</span><span
                                        class="c0">&quot;ym&quot;</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;form-control&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">onchange</span><span class="c4">=</span><span
                                        class="c0">&quot;</span><span class="c5">submit</span><span
                                        class="c4">(</span><span class="c7">this</span><span class="c4">.</span><span
                                        class="c7">form</span><span class="c4">);</span><span
                                        class="c0">&quot;</span><span class="c4">&gt;</span><sup class="c4"><a
                                                href="#ftnt41" id="ftnt_ref41" style="user-select: none;">[41]</a></sup>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">optgroup</span><span class="c4"> </span><span
                                        class="c13">th:each</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;optgroup :
                                        ${ymselect}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:label</span><span class="c4">=</span><span
                                        class="c0">&quot;${optgroup.getKey()}&quot;</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">option</span><span class="c4"> </span><span
                                        class="c13">th:each</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;option :
                                        ${optgroup.getValue()}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:value</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;${option.getValue()}&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13">th:text</span><span class="c4">=</span><span
                                        class="c0">&quot;${</span><span class="c0">option</span><span
                                        class="c0">.</span><span class="c0">getText</span><span
                                        class="c0">()}&quot;</span><span class="c4">&gt;&lt;/</span><span
                                        class="c7">option</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">optgroup</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">select</span><span class="c8 c4">&gt;</span>
                        </p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">input</span><span class="c4"> </span><span
                                        class="c13">type</span><span class="c4">=</span><span
                                        class="c0">&quot;button&quot;</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span class="c8 c0">&quot;btn
                                        btn-outline-success ml-1&quot;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c13 c15">onclick</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;</span><span class="c4 c15">location.</span><span
                                        class="c5 c15">reload</span><span class="c4 c15">();</span><span
                                        class="c0 c15">&quot;</span><span class="c4"> </span><span
                                        class="c13">value</span><span class="c4">=</span><span
                                        class="c0">&quot;再読込&quot;</span><span class="c4">&gt;</span><sup class="c4"><a
                                                href="#ftnt42" id="ftnt_ref42" style="user-select: none;">[42]</a></sup>
                        </p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">div</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/</span><span
                                        class="c7">form</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">body</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&lt;/</span><span class="c7">html</span><span
                                        class="c8 c4">&gt;</span></p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref40" id="ftnt40">[40]</a><span class="c10">
                                        プルダウン変更時にGETでformをsubmitして画面を再表示</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref41" id="ftnt41">[41]</a><span class="c10">
                                        プルダウン変更時にGETでformをsubmitして画面を再表示</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <div>
                        <p class="c18"><a href="#ftnt_ref42" id="ftnt42">[42]</a><span class="c10">
                                        クリックしたら現在のURLへ再度アクセス（GET）</span>
                        </p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.xbnrwicfsleo"><span class="c21 c12">4.</span></h3>
                <p class="c1"><span class="c27 c28">それでは、トップページのグラフ部分に下記のコードを追加して、プルダウンの動作を確認してみましょう。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：graph.html（1行追加）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-header&quot;</span><span
                                        class="c4">&gt;収支状況グラフ&lt;/</span><span class="c7">div</span><span
                                        class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">div</span><span class="c4"> </span><span
                                        class="c13">class</span><span class="c4">=</span><span
                                        class="c0">&quot;card-body&quot;</span><span class="c8 c4">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
                                        class="c4 c15">&lt;</span><span class="c7 c15">div</span><span class="c4 c15">
                                </span><span class="c13 c15">layout:replace</span><span class="c4 c15">=</span><span
                                        class="c0 c15">&quot;~{common/ymselect::form}&quot;</span><span
                                        class="c4 c15">&gt;&lt;/</span><span class="c7 c15">div</span><span
                                        class="c8 c4 c15">&gt;</span></p><br>
                        <p class="c2"><span
                                        class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span
                                        class="c7">canvas</span><span class="c4"> </span><span
                                        class="c13">id</span><span class="c4">=</span><span
                                        class="c0">&quot;ChartDemo&quot;</span><span class="c4"> </span><span
                                        class="c13">th:if</span><span class="c4">=</span><span
                                        class="c0">&quot;${graphData!=null}&quot;</span><span
                                        class="c4">&gt;&lt;/</span><span class="c7">canvas</span><span
                                        class="c8 c4">&gt;</span></p><br>
                </div>
                <p class="c1"><span class="c27 c28"> </span></p>
                <p class="c1"><span class="c8 c22 c12">＜ここまでの表示結果＞</span></p>
                <p class="c1"><span
                                class="c27 c28">プルダウンを変更すると、グラフで表示されるデータの範囲が変更され、アドレスバーにもパラメータ付きのURLが表示されることを確認できるはずです。</span>
                </p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh5.googleusercontent.com/LaDHGo6iEkgyeDJUjrIs0HDx1DEEfuX7N49BkRXg_W37eToOoXIXMGE4XUNusgjkokPuGyB9IayWcooVW2USNB1yASPktuCUZgHtRNSI11NbLexYRR8E3CPrRf0u8DULaXKVgHhc"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.ts5y692rauc8"><span class="c21 c12">5.</span></h3>
                <p class="c1"><span
                                class="c27 c28">続いて、一覧にもプルダウンを追加しましょう。HomeControllerに行った修正をBalanceDataControllerに、graph.htmlに行った修正をlist.htmlにも行ってみてください。サンプルコードが無くても、ほぼ同じ作業ですのでできるはずです。プルダウンとページャーの間を空けたいならば、「layout::replace」の付いたdivタグをさらにdivタグでくくり、外側のdivタグに「Bootstrap
                                4のmargin-bottomを指定するclass名」を使って「mb-3」と入れてあげれば、隙間を確保することが可能です。</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.531s3u70ktg2"><span class="c21 c12">6.</span></h3>
                <p class="c1"><span
                                class="c27 c28">一覧にはページャーがあり、今のままではページャーをクリックすると、ページの情報だけをクエリストリングに付加してGETリクエストを飛ばしてしまうため、年月の情報が欠落してしまいます。ページャーを生成する部分を次のように修正してください。</span>
                </p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c2"><span class="c12">サンプルコード：pager.html（一部修正）</span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <div class="code_block">
                        <p class="c2"><sup class="c13"><a href="#ftnt43" id="ftnt_ref43"
                                                style="user-select: none;">[43]</a></sup></p><br>
                        <p class="c2"><span class="c13">th:href</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=${pager.number},ym=${ym})}&quot;</span>
                        </p><br>
                        <p class="c2"><span class="c13">th:href</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=1,ym=${ym})}&quot;</span></p><br>
                        <p class="c2"><span class="c13">th:href</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=${i},ym=${ym})}&quot;</span></p><br>
                        <p class="c2"><span class="c13">th:href</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=${pager.totalPages},ym=${ym})}&quot;</span>
                        </p><br>
                        <p class="c2"><span class="c13">th:href</span><span class="c4">=</span><span
                                        class="c8 c0">&quot;@{/balancedata(page=(${pager.number}+2),ym=${ym})}&quot;</span>
                        </p><br>
                </div>
                <hr class="c41">
                <div>
                        <p class="c18"><a href="#ftnt_ref43" id="ftnt43">[43]</a><span class="c10">
                                        「,ym=${ym}」をそれぞれ追加</span></p>
                        <p class="c18 c6"><span class="c10"></span></p>
                </div>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <p class="c1"><span class="c8 c22 c12">＜ここまでの表示結果＞</span></p>
                <p class="c1"><span
                                class="c27 c28">プルダウンとページャのどちらを変更しても、グラフで表示されるデータの範囲が正しく変更され、アドレスバーのパラメータも共存できていることを確認してください。ただし、プルダウンを変更したらページが1ページに戻ることは仕様として正しいです。（ページが無いかもしれない！）問題無ければコミットしておきましょう！</span>
                </p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 640.00px;"><img
                                        alt=""
                                        src="https://lh3.googleusercontent.com/JWKvIFWEmVO2M7PqdtRgsSJMXAgxEJz1XNunj5rG3BZVOmu0ZVqObDWBnYETCiVNOrbNGPX8usFDI40JATfRsI5OBQp7q5em5G1-9keADg__P2zknpUfZInocivsvm2Em4fNXwax"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1"><span
                                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); max-width: 930.52px;"><img
                                        alt=""
                                        src="https://lh5.googleusercontent.com/SafD8yCqBMCYdTf2cw7m88Fldcd_BBKfTdYS9-HT_sOiCmiBnj7x1tpfExOnFshZfXfqDqjCg0eC9Xxn3mKeiShTeUE72J3Q4Ll3G7yV1iq-nr-CtLHd7IfSsXh4RukLNocdY-Hy"
                                        style="width: 100%; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                                        title=""></span></p>
                <p class="c1 c6"><span class="c27 c28"></span></p>
                <h3 class="c1 c9" id="h.wrhxso6umogk"><span class="c21 c12">＜HashMap（連想配列）について＞</span></h3><a
                        id="t.0b6e5fe5d2981b0168d2eddcfa7474d84464beaf"></a><a id="t.7"></a>
                <table class="c31">
                        <tbody>
                                <tr class="c26">
                                        <td class="c25" colspan="1" rowspan="1">
                                                <p class="c1"><span class="c8 c22 c12">(1) HashMapとは</span></p>
                                                <p class="c1"><span
                                                                class="c27 c28">HashMapは、リストと似ており、「名前（key）の付いた値（value）の集合体（collection）」です。</span>
                                                </p>
                                                <p class="c1"><span
                                                                class="c27 c28">定義する際には「java.util.Map」と「java.util.HashMap」をimportし、「&lt;
                                                                &gt;」の中に型を指定します。</span></p>
                                                <p class="c1 c6"><span class="c27 c28 c29"></span></p>
                                                <p class="c1"><span class="c12">構文：</span><span
                                                                class="c27 c28 c29">Map&lt;keyの型, valueの型&gt;
                                                                変数名 = new HashMap&lt;&gt;();</span></p>
                                                <p class="c1 c6"><span class="c27 c28 c29"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(2) 連想配列とリストの主な違い</span></p>
                                                <p class="c1"><span
                                                                class="c27 c28">リストは、要素を添字で管理するのに対し、連想配列は、要素をキー（名前）で管理します。</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c12">ex)</span><span class="c27 c28">
                                                                リストと連想配列の要素の追加・取得</span></p>
                                                <p class="c1"><span class="c12">「リスト」</span></p>
                                                <p class="c1"><span class="c12">追加：</span><span>list.add(value)
                                                        </span><span class="c12">／
                                                                取得：</span><span class="c27 c28">list.get(0)</span></p>
                                                <p class="c1 c6"><span class="c8 c22 c12"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">「連想配列」</span></p>
                                                <p class="c1"><span class="c12">追加：</span><span>map.put(“key”, value)
                                                        </span><span class="c12">／
                                                                取得：</span><span class="c27 c28">map.get(“key”)</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c8 c22 c12">(3) LinkedHashMapとは</span></p>
                                                <p class="c1"><span
                                                                class="c27 c28">LinkedHashMapは、要素が格納された順番を保持した連想配列です。</span>
                                                </p>
                                                <p class="c1"><span
                                                                class="c27 c28">実は、HashMapでは、要素の格納された順番を保持していません。（自作のHashMapを拡張forで書き出してみると、要素を追加した順番が保持されていないことがよくわかります。）</span>
                                                </p>
                                                <p class="c1"><span
                                                                class="c27 c28">定義する際には「java.util.Map」と「java.util.LinkedHashMap」をimportします。</span>
                                                </p>
                                                <p class="c1 c6"><span class="c27 c28"></span></p>
                                                <p class="c1"><span class="c12">構文：</span><span
                                                                class="c27 c28 c29">Map&lt;keyの型, valueの型&gt;
                                                                変数名 = new LinkedHashMap&lt;&gt;();</span></p>
                                        </td>
                                </tr>
                        </tbody>
                </table>
                <p class="c1 c6"><span class="c27 c28"></span></p>
        </div>
        <div id="footer"><span>公開元: <a href="https://member.digskill.net/dashboard">Dig Skill</a></span><span
                        class="dash">&ndash;</span>【7】「フレームワーク」を活用してみよう！（2）
        </div>
</body>

</html>